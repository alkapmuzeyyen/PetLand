(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,a){e.exports.config={SERVER_URI:"https://petland-app.herokuapp.com"}},100:function(e,a,t){},102:function(e,a,t){"use strict";t.r(a);var c=t(1),s=t(21),n=t.n(s),l=(t(28),t(8)),o=t(4),r=t(7),i=t(14),b=t(11),j=t.n(b),d=t(5),u=t(10),m=t(2);function h(e){var a=e.setToken,t=Object(c.useState)(""),s=Object(r.a)(t,2),n=s[0],b=s[1],h=Object(i.g)(),O=Object(c.useState)(!1),p=Object(r.a)(O,2),x=(p[0],p[1]),v=Object(c.useState)(""),g=Object(r.a)(v,2),A=g[0],E=g[1],f=Object(c.useState)({email:"",password:""}),N=Object(r.a)(f,2),R=N[0],C=N[1],L=function(e){var a=e.target,t=a.name,c=a.value;C(Object(o.a)(Object(o.a)({},R),{},Object(l.a)({},t,c)))};return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(d.b,{style:{height:"100vh"},className:"bg-dark",children:Object(m.jsx)("div",{className:"register-form",children:Object(m.jsxs)(d.c,{className:"form",onSubmit:function(e){console.log("handleSubmit"),e.preventDefault(),b(function(e){var a={};return e.email?/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e.email)||(a.email="Email address is invalid"):a.email="Email required",e.password||(a.password="Password is required"),a}(R)),n==={}&&console.log("no error"),console.log("in"),j.a.post("".concat(u.config.SERVER_URI,"/api/login"),{email:R.email,password:R.password}).then((function(e){var t=e.data.token;console.log("Token:",t),e?console.log(e):console.log("no error"),x(!0),a(t),console.log("token set"),h.push("/feed")})).catch((function(e){console.log(e);var a=e.response.data.errors[0].msg;console.log(a),a?(console.log(a),E(a),C({email:"",password:""}),a=""):(E(""),h.push("/feed"),x(!0))}))},children:[Object(m.jsx)("h2",{className:"text-warning text-center",children:"Login"}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"text-white",children:"Email"}),Object(m.jsx)(d.e,{type:"email",name:"email",id:"email",value:R.email,onChange:L}),n.email&&Object(m.jsx)("p",{className:"text-danger",children:n.email})]}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"text-white",children:"Password"}),Object(m.jsx)(d.e,{type:"password",name:"password",id:"password",value:R.password,onChange:L}),n.password&&Object(m.jsx)("p",{className:"text-danger",children:n.password})]}),Object(m.jsxs)("div",{className:"row justify-content-evenly",children:[Object(m.jsx)("div",{className:"col",children:Object(m.jsx)(d.a,{children:"Login"})}),Object(m.jsxs)("div",{className:"col",children:[Object(m.jsx)("text",{className:"text-danger",children:"Create an account "}),Object(m.jsx)(d.a,{className:"ml-1",onClick:function(){h.push("/register")},children:"Register"})]}),A&&Object(m.jsx)("h3",{className:"text-white text-center",children:A})]})]})})})})}var O=t(25);var p=function(){var e=Object(c.useState)({name:"",email:"",phone:"",address:"",password:"",password2:""}),a=Object(r.a)(e,2),t=a[0],s=a[1],n=[{value:"ADALAR",label:"ADALAR"},{value:"ARNAVUTK\xd6Y",label:"ARNAVUTK\xd6Y"},{value:"ATA\u015eEH\u0130R",label:"ATA\u015eEH\u0130R"},{value:"AVCILAR",label:"AVCILAR"},{value:"BA\u011eCILAR",label:"BA\u011eCILAR"},{value:"BAH\xc7EL\u0130EVLER",label:"BAH\xc7EL\u0130EVLER"},{value:"BAKIRK\xd6Y",label:"BAKIRK\xd6Y"},{value:"BA\u015eAK\u015eEH\u0130R",label:"BA\u015eAK\u015eEH\u0130R"},{value:"BAYRAMPA\u015eA",label:"BAYRAMPA\u015eA"},{value:"BEYKOZ",label:"BEYKOZ"},{value:"BEYL\u0130KD\xdcZ\xdc",label:"BEYL\u0130KD\xdcZ\xdc"},{value:"BEYO\u011eLU",label:"BEYO\u011eLU"},{value:"B\xdcY\xdcK\xc7EKMECE",label:"B\xdcY\xdcK\xc7EKMECE"},{value:"\xc7ATALCA",label:"\xc7ATALCA"},{value:"\xc7EKMEK\xd6Y",label:"\xc7EKMEK\xd6Y"},{value:"ESENLER",label:"ESENLER"},{value:"ESENYURT",label:"ESENYURT"},{value:"EY\xdcPSULTAN",label:"EY\xdcPSULTAN"},{value:"FAT\u0130H",label:"FAT\u0130H"},{value:"GAZ\u0130OSMANPA\u015eA",label:"GAZ\u0130OSMANPA\u015eA"},{value:"G\xdcNG\xd6REN",label:"G\xdcNG\xd6REN"},{value:"KADIK\xd6Y",label:"KADIK\xd6Y"},{value:"KA\u011eITHANE",label:"KA\u011eITHANE"},{value:"KARTAL",label:"KARTAL"},{value:"K\xdc\xc7\xdcK\xc7EKMECE",label:"K\xdc\xc7\xdcK\xc7EKMECE"},{value:"MALTEPE",label:"MALTEPE"},{value:"K\xdc\xc7\xdcK\xc7EKMECE",label:"K\xdc\xc7\xdcK\xc7EKMECE"},{value:"PEND\u0130K",label:"PEND\u0130K"},{value:"SANCAKTEPE",label:"SANCAKTEPE"},{value:"SARIYER",label:"SARIYER"},{value:"S\u0130L\u0130VR\u0130",label:"S\u0130L\u0130VR\u0130"},{value:"SULTANBEYL\u0130",label:"SULTANBEYL\u0130"},{value:"SULTANGAZ\u0130",label:"SULTANGAZ\u0130"},{value:"\u015e\u0130LE",label:"\u015e\u0130LE"},{value:"\u015e\u0130\u015eL\u0130",label:"\u015e\u0130\u015eL\u0130"},{value:"TUZLA",label:"TUZLA"},{value:"\xdcMRAN\u0130YE",label:"\xdcMRAN\u0130YE"},{value:"\xdcSK\xdcDAR",label:"\xdcSK\xdcDAR"},{value:"ZEYT\u0130NBURNU",label:"ZEYT\u0130NBURNU"}],b=Object(c.useState)(""),h=Object(r.a)(b,2),p=h[0],x=h[1],v=Object(c.useState)(""),g=Object(r.a)(v,2),A=g[0],E=g[1],f=Object(c.useState)(!1),N=Object(r.a)(f,2),R=N[0],C=N[1],L=Object(i.g)(),K=function(e){var a=e.target,c=a.name,n=a.value;s(Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},c,n)))},S=function(){console.log("in"),j.a.post("".concat(u.config.SERVER_URI,"/api/register"),{name:t.name,email:t.email,phone:t.phone,address:t.address.toLowerCase(),password:t.password}).then((function(e){e||console.log("no error"),C(!0),L.push("/login")})).catch((function(e){console.log(e.response);var a=e.response.data.errors[0].msg;console.log(a),a?(console.log(a),E(a),s({name:"",email:"",phone:"",address:"",password:"",password2:""}),a=""):(E(""),L.push("/login"),C(!0))}))};return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(d.b,{style:{height:"100vh",overflow:"auto"},className:"bg-dark",children:Object(m.jsx)("div",{className:"register-form",children:Object(m.jsxs)(d.c,{className:"form",onSubmit:function(e){console.log("handleSubmit"),e.preventDefault(),x(function(e){var a={};return e.name.trim()||(a.name="Name required"),e.email.trim()?/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e.email)||(a.email="Email address is invalid"):a.email="Email required",e.phone.trim()||(a.phone="Phone required"),e.password?e.password.length<6&&(a.password="Password needs to be 6 characters or more."):a.password="Password is required",e.password2?e.password2!==e.password&&(a.password2="Passwords do not match"):a.password2="Password is required",a}(t)),p==={}&&console.log("no error"),S()},children:[R?Object(m.jsx)("span",{children:"Success! Thank you for registering."}):null,Object(m.jsx)("h2",{className:"text-warning text-center",children:"Register"}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"text-white",children:"Name-Surname"}),Object(m.jsx)(d.e,{type:"name",name:"name",id:"name",value:t.name,onChange:K}),p.name&&Object(m.jsx)("p",{className:"text-danger",children:p.name})]}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"text-white",children:"Email"}),Object(m.jsx)(d.e,{type:"email",name:"email",id:"email",value:t.email,onChange:K}),p.email&&Object(m.jsx)("p",{className:"text-danger",children:p.email})]}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"text-white",children:"Phone Number"}),Object(m.jsx)(d.e,{type:"number",name:"phone",id:"phone",value:t.phone,onChange:K}),p.phone&&Object(m.jsx)("p",{className:"text-danger",children:p.phone})]}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"text-white",children:"Address (District)"}),Object(m.jsx)(O.a,{options:n,value:n[t.address],onChange:function(e){var a=e.value;s(Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},"address",a))),t.address=e.value}})]}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"text-white",children:"Password"}),Object(m.jsx)(d.e,{type:"password",name:"password",id:"password",value:t.password,onChange:K}),p.password&&Object(m.jsx)("p",{className:"text-danger",children:p.password})]}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"text-white",children:"Password"}),Object(m.jsx)(d.e,{type:"password",id:"password2",name:"password2",value:t.password2,onChange:K}),p.password2&&Object(m.jsx)("p",{className:"text-danger",children:p.password2}),"\\"]}),Object(m.jsxs)("div",{className:"row justify-content-evenly",children:[Object(m.jsx)("div",{className:"col-6",children:Object(m.jsx)(d.a,{children:"Register"})}),Object(m.jsx)("div",{className:"col-3 makeCenter",children:Object(m.jsx)("label",{className:"text-danger",children:"Already have an account?"})}),Object(m.jsx)("div",{className:"col-3 makeCenter",children:Object(m.jsx)(d.a,{className:"ml-1",onClick:function(){L.push("/login")},children:"Login"})}),A&&Object(m.jsx)("h3",{className:"text-white text-center",children:A})]})]})})})})},x=t.p+"static/media/welcome_bg.2e5d8be7.jpg";var v=function(){return Object(m.jsx)("div",{class:"view p-3 mb-2",style:{backgroundImage:"url(".concat(x,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},children:Object(m.jsx)("div",{class:"mask rgba-black-light align-items-center",children:Object(m.jsx)("div",{class:"container",children:Object(m.jsx)("div",{class:"row",children:Object(m.jsxs)("div",{class:"col-md-12 mb-4 white-text text-center",children:[Object(m.jsx)("h1",{class:"h1-reponsive text-warning white-text font-weight-bold mb-0 pt-md-5 pt-5 wow fadeInDown","data-wow-delay":"0.3s",children:Object(m.jsx)("strong",{children:"PetLand"})}),Object(m.jsx)("h3",{class:"mb-4 white-text wow fadeInDown","data-wow-delay":"0.4s",children:"A web platform where animal lovers and pets meet!"}),Object(m.jsx)("a",{href:"/login",class:"btn btn-outline-white wow fadeInDown","data-wow-delay":"0.4s",children:"LOGIN"}),Object(m.jsx)("a",{href:"/register",class:"btn btn-outline-white wow fadeInDown","data-wow-delay":"0.4s",children:"REGISTER"})]})})})})})},g=t(12),A=t(9),E=t(23),f=t.n(E),N=t(27),R=t(51),C=t(52),L=t(54),K=t(53),S=[{title:"Home",url:"/feed",cName:"nav-links"},{title:"Messages",url:"/dm",cName:"nav-links"},{title:"Settings",url:"/settings",cName:"nav-links"},{title:"Create a Post",url:"/createPost",cName:"nav-links"},{title:"Search",url:"/search",cName:"nav-links"},{title:"My Posts",url:"/myPosts",cName:"nav-links"},{title:"Near by Me",url:"/nearByMe",cName:"nav-links"}],w=(t(100),function(e){Object(L.a)(t,e);var a=Object(K.a)(t);function t(){var e;Object(R.a)(this,t);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(e=a.call.apply(a,[this].concat(s))).state={clicked:!1},e.handleClick=function(){e.state({clicked:!e.state.clicked})},e}return Object(C.a)(t,[{key:"logout",value:function(){var e=Object(N.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("out"),j.a.post("".concat(u.config.SERVER_URI,"/api/logout"),{logout:!0}).then((function(e){e?(console.log(e),sessionStorage.removeItem("token")):console.log("no error")})).catch((function(e){console.log(e);var a=e.response;a&&console.log(a)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(m.jsxs)("nav",{className:"NavbarItems",children:[Object(m.jsxs)("h1",{className:"navbar-logo",children:["PetLand",Object(m.jsx)("i",{className:"fas fa-cat"})]}),Object(m.jsx)("div",{className:"menu-icon",onClick:this.handleClick,children:Object(m.jsx)("i",{className:this.state.clicked?"fas fa-times":"fas fa-bars"})}),Object(m.jsx)("ul",{className:this.state.clicked?"nav-menu active":"nav-menu",children:S.map((function(e,a){return Object(m.jsx)("li",{children:Object(m.jsx)("a",{className:e.cName,href:e.url,children:e.title})},a)}))}),Object(m.jsx)(d.a,{onClick:this.logout,children:"Log Out"})]})}}]),t}(c.Component)),T=Object(i.i)(w),k=t(13),_=function(e){var a,t=e.post_id,c=e.name,s=e.breed,n=e.age,o=e.location,r=e.extra_info,b=e.p_image,j=e.vaccinated,d=e.ts,u=Object(i.g)();return Object(m.jsx)("div",{children:Object(m.jsxs)(k.a,(a={border:"danger",bg:"light".toLowerCase(),text:"dark",style:{width:"18rem"},className:"mb-2"},Object(l.a)(a,"style",{width:"30rem",height:"800px"}),Object(l.a)(a,"children",[Object(m.jsx)(k.a.Img,{variant:"top",src:""}),Object(m.jsxs)(k.a.Body,{children:[Object(m.jsxs)(k.a.Title,{className:"makeCenter postTitle",style:{fontSize:28,textTransform:"uppercase"},children:["Meet with ",c]}),Object(m.jsx)("br",{}),Object(m.jsx)(k.a.Text,{children:Object(m.jsxs)("div",{children:[Object(m.jsxs)(g.a,{children:[Object(m.jsx)(A.a,{children:Object(m.jsx)("label",{className:"postTitle",children:"Name:"})}),Object(m.jsx)(A.a,{className:"makeCenter",children:Object(m.jsx)("label",{id:"namee",children:c})})]}),Object(m.jsxs)(g.a,{children:[Object(m.jsx)(A.a,{children:Object(m.jsx)("label",{className:"postTitle",children:"Breed:"})}),Object(m.jsx)(A.a,{className:"makeCenter",children:Object(m.jsx)("label",{id:"breed",children:s})})]}),Object(m.jsxs)(g.a,{children:[Object(m.jsx)(A.a,{children:Object(m.jsx)("label",{className:"postTitle",children:"Age:"})}),Object(m.jsx)(A.a,{className:"makeCenter",children:Object(m.jsx)("label",{id:"age",children:n})})]}),Object(m.jsxs)(g.a,{children:[Object(m.jsx)(A.a,{children:Object(m.jsx)("label",{className:"postTitle",children:"Location:"})}),Object(m.jsx)(A.a,{className:"makeCenter",children:Object(m.jsx)("label",{id:"location",style:{textTransform:"uppercase"},children:o})})]}),Object(m.jsxs)(g.a,{children:[Object(m.jsx)(A.a,{children:Object(m.jsx)("label",{className:"postTitle",children:"Vaccinated:"})}),Object(m.jsx)(A.a,{className:"makeCenter",children:Object(m.jsx)("label",{id:"location",children:j?"Yes":"No"})})]}),Object(m.jsxs)(g.a,{children:[Object(m.jsx)(A.a,{children:Object(m.jsx)("label",{className:"postTitle",children:"Extra Info:"})}),Object(m.jsx)(A.a,{className:"makeCenter",children:Object(m.jsx)("label",{id:"extra_info",children:r})})]}),Object(m.jsx)("br",{}),Object(m.jsx)(g.a,{className:"makeCenter",children:Object(m.jsx)("img",{src:b,className:"makeCenter photo"})}),Object(m.jsx)(g.a,{children:Object(m.jsx)(A.a,{children:Object(m.jsx)("label",{style:{fontSize:"10px",position:"absolute",right:0,marginRight:"10%"},className:"makeCenter",id:"extra_info",children:d.substring(0,10)})})}),Object(m.jsxs)(g.a,{className:"makeCenter",children:[Object(m.jsx)(A.a,{sm:2,className:"my-1",children:Object(m.jsxs)("a",{href:"/feed",className:"btn btn-outline-white wow fadeInDown",children:[Object(m.jsx)("i",{className:"far fa-heart",children:" "})," "]})}),Object(m.jsx)(A.a,{sm:2,className:"my-1",children:Object(m.jsxs)("a",{href:"/postComment",onClick:function(e){e.preventDefault(),u.push({pathname:"/postComment",state:t})},className:"btn btn-outline-white wow fadeInDown",children:[Object(m.jsx)("i",{className:"far fa-comments",children:" "})," "]})})]})]})})]})]),a))})},Y=t.p+"static/media/bg.317a5777.jpg",y=function(){var e=Object(c.useState)({namee:{}}),a=Object(r.a)(e,2),t=a[0],s=a[1],n=Object(c.useState)(""),b=Object(r.a)(n,2),d=(b[0],b[1],Object(c.useState)("")),h=Object(r.a)(d,2),O=(h[0],h[1]),p=Object(c.useState)(!1),x=Object(r.a)(p,2),v=(x[0],x[1]),E=Object(i.g)(),f=function(){j.a.post("".concat(u.config.SERVER_URI,"/api/get-posts"),{}).then((function(e){var a;a=e.data.posts,console.log("e is "+a),s(Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},"namee",a))),t.namee=a})).catch((function(e){console.log(e.response);var a=e.response.data.errors[0].msg;console.log(a),a||(O(""),E.push("/feed"),v(!0))}))};return Object(c.useEffect)((function(){return f()}),[]),Object(m.jsxs)("div",{children:[Object(m.jsx)(T,{}),Object(m.jsx)("div",{style:{backgroundImage:"url(".concat(Y,")"),padding:"5%"},className:"makeCenter",children:Object(m.jsx)(g.a,{children:t.namee.length>0&&t.namee.map((function(e,a){return Object(m.jsx)(A.a,{xs:6,className:"makeCenter",children:Object(m.jsx)(_,{name:e.name,breed:e.breed,age:e.age,location:e.location,extra_info:e.extra_info,p_image:e.p_image,vaccinated:e.vaccinated,ts:e.ts,post_id:e.post_id})})}))})})]})};var I=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:"DM Page"})})},B=t(26),U=function(){var e,a=sessionStorage.getItem("token"),t=Object(c.useState)(""),s=Object(r.a)(t,2),n=s[0],b=s[1],h=Object(c.useState)(""),p=Object(r.a)(h,2),x=p[0],v=(p[1],Object(c.useState)(!1)),E=Object(r.a)(v,2),f=(E[0],E[1]),N=Object(i.g)(),R=[{value:"ADALAR",label:"ADALAR"},{value:"ARNAVUTK\xd6Y",label:"ARNAVUTK\xd6Y"},{value:"ATA\u015eEH\u0130R",label:"ATA\u015eEH\u0130R"},{value:"AVCILAR",label:"AVCILAR"},{value:"BA\u011eCILAR",label:"BA\u011eCILAR"},{value:"BAH\xc7EL\u0130EVLER",label:"BAH\xc7EL\u0130EVLER"},{value:"BAKIRK\xd6Y",label:"BAKIRK\xd6Y"},{value:"BA\u015eAK\u015eEH\u0130R",label:"BA\u015eAK\u015eEH\u0130R"},{value:"BAYRAMPA\u015eA",label:"BAYRAMPA\u015eA"},{value:"BEYKOZ",label:"BEYKOZ"},{value:"BEYL\u0130KD\xdcZ\xdc",label:"BEYL\u0130KD\xdcZ\xdc"},{value:"BEYO\u011eLU",label:"BEYO\u011eLU"},{value:"B\xdcY\xdcK\xc7EKMECE",label:"B\xdcY\xdcK\xc7EKMECE"},{value:"\xc7ATALCA",label:"\xc7ATALCA"},{value:"\xc7EKMEK\xd6Y",label:"\xc7EKMEK\xd6Y"},{value:"ESENLER",label:"ESENLER"},{value:"ESENYURT",label:"ESENYURT"},{value:"EY\xdcPSULTAN",label:"EY\xdcPSULTAN"},{value:"FAT\u0130H",label:"FAT\u0130H"},{value:"GAZ\u0130OSMANPA\u015eA",label:"GAZ\u0130OSMANPA\u015eA"},{value:"G\xdcNG\xd6REN",label:"G\xdcNG\xd6REN"},{value:"KADIK\xd6Y",label:"KADIK\xd6Y"},{value:"KA\u011eITHANE",label:"KA\u011eITHANE"},{value:"KARTAL",label:"KARTAL"},{value:"K\xdc\xc7\xdcK\xc7EKMECE",label:"K\xdc\xc7\xdcK\xc7EKMECE"},{value:"MALTEPE",label:"MALTEPE"},{value:"K\xdc\xc7\xdcK\xc7EKMECE",label:"K\xdc\xc7\xdcK\xc7EKMECE"},{value:"PEND\u0130K",label:"PEND\u0130K"},{value:"SANCAKTEPE",label:"SANCAKTEPE"},{value:"SARIYER",label:"SARIYER"},{value:"S\u0130L\u0130VR\u0130",label:"S\u0130L\u0130VR\u0130"},{value:"SULTANBEYL\u0130",label:"SULTANBEYL\u0130"},{value:"SULTANGAZ\u0130",label:"SULTANGAZ\u0130"},{value:"\u015e\u0130LE",label:"\u015e\u0130LE"},{value:"\u015e\u0130\u015eL\u0130",label:"\u015e\u0130\u015eL\u0130"},{value:"TUZLA",label:"TUZLA"},{value:"\xdcMRAN\u0130YE",label:"\xdcMRAN\u0130YE"},{value:"\xdcSK\xdcDAR",label:"\xdcSK\xdcDAR"},{value:"ZEYT\u0130NBURNU",label:"ZEYT\u0130NBURNU"}],C=function(e){console.log(e);var a=e.target,t=a.name,c=a.value;_(Object(o.a)(Object(o.a)({},w),{},Object(l.a)({},t,c)))},L=function(){j.a.post("".concat(u.config.SERVER_URI,"/api/update-user"),{name:w.name||w.old_name,email:w.email||w.old_email,address:w.address.toLowerCase()||w.old_address.toLowerCase(),phone:w.phone||w.old_phone,user_id:a}).then((function(e){f(!0),N.push("/feed")})).catch((function(e){var a=e.response.data.errors[0].msg;a?(console.log(a),b(a),N.push("/settings"),a=""):(b(""),N.push("/feed"),f(!0))}))},K=Object(c.useState)({name:"",email:"",address:"",phone:"",old_name:"",old_email:"",old_address:"",old_phone:""}),S=Object(r.a)(K,2),w=S[0],_=S[1],y=function(){j.a.post("".concat(u.config.SERVER_URI,"/api/get-user-info"),{user_id:a}).then((function(e){!function(e){var a;console.log(e);var t=e.name,c=e.value;_(Object(o.a)(Object(o.a)({},w),{},Object(l.a)({},t,c))),_(Object(o.a)(Object(o.a)({},w),{},(a={},Object(l.a)(a,"old_name",e.name),Object(l.a)(a,"old_email",e.email),Object(l.a)(a,"old_address",e.address),Object(l.a)(a,"old_phone",e.phone),a))),w.name=e.name,w.email=e.email,w.phone=e.phone,w.old_name=e.name,w.old_email=e.email,w.old_address=e.address,w.old_phone=e.phone}(e.data.info[0])})).catch((function(e){console.log(e.response);var a=e.response.data.errors[0].msg;console.log(a),a||(b(""),N.push("/feed"),f(!0))}))};return Object(c.useEffect)((function(){return y()}),[]),Object(m.jsxs)("div",{children:[Object(m.jsx)(T,{}),Object(m.jsx)("div",{style:{backgroundImage:"url(".concat(Y,")"),display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:Object(m.jsx)(k.a,(e={border:"danger",bg:"light".toLowerCase(),text:"dark",style:{width:"18rem"},className:"mb-2"},Object(l.a)(e,"style",{width:"50rem",height:"44rem"}),Object(l.a)(e,"children",Object(m.jsxs)(d.c,{className:"form",onSubmit:function(e){e.preventDefault(),L()},children:[Object(m.jsx)(k.a.Img,{variant:"top",src:""}),Object(m.jsxs)(k.a.Body,{children:[Object(m.jsx)(k.a.Title,{className:"makeCenter",style:{fontSize:28},children:"Update Your Information"}),Object(m.jsx)("br",{}),Object(m.jsxs)(g.a,{children:[Object(m.jsxs)(A.a,{children:[Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"createPostTitle makeCenter",children:"Name"}),Object(m.jsx)(d.e,{type:"name",name:"name",id:"name",value:w.name,placeholder:w.old_name,onChange:C}),x.name&&Object(m.jsx)("p",{className:"text-danger",children:x.name})]}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"createPostTitle makeCenter",children:"Email"}),Object(m.jsx)(d.e,{type:"email",name:"email",id:"email",value:w.email,placeholder:w.old_email,onChange:C}),x.email&&Object(m.jsx)("p",{className:"text-danger",children:x.email})]}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"createPostTitle makeCenter",children:"Address (District)"}),Object(m.jsx)(O.a,{options:R,value:R[w.search_location],onChange:function(e){var a=e.value;_(Object(o.a)(Object(o.a)({},w),{},Object(l.a)({},"address",a))),w.address=e.value},placeholder:w.old_address.toUpperCase()}),x.address&&Object(m.jsx)("p",{className:"text-danger",children:x.address})]}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"createPostTitle makeCenter",children:"Phone"}),Object(m.jsx)(d.e,{type:"phone",name:"phone",id:"phone",value:w.phone,placeholder:w.old_phone,onChange:C}),x.phone&&Object(m.jsx)("p",{className:"text-danger",children:x.phone})]})]}),Object(m.jsxs)(g.a,{className:"justify-content-evenly",children:[Object(m.jsx)(A.a,{className:"makeCenter",children:Object(m.jsx)(B.a,{variant:"danger",size:"lg",onClick:function(){N.push("/feed")},children:"CANCEL"})}),Object(m.jsx)(A.a,{className:"makeCenter",children:Object(m.jsx)(B.a,{variant:"success",size:"lg",type:"submit",children:"UPDATE"})}),n&&Object(m.jsx)("h3",{className:"text-black text-center",children:n})]})]}),Object(m.jsx)(k.a.Text,{}),Object(m.jsx)(A.a,{className:"makeCenter",children:Object(m.jsx)(B.a,{variant:"primary",size:"lg",onClick:function(){N.push("/changePassword")},children:"Change password?"})})]})]})),e))})]})},P=[{value:"cat",label:"Cat"},{value:"dog",label:"Dog"},{value:"bird",label:"Bird"}],M=[{value:"true",label:"Vaccinated"},{value:"false",label:"Not Vaccinated"}];var D=function(){var e,a=sessionStorage.getItem("token"),t=Object(c.useState)(""),s=Object(r.a)(t,2),n=s[0],b=s[1],h=Object(c.useState)({name:"",breed:"",location:"",age:0,p_image:"",extra_info:"",vaccinated:"",ts:""}),p=Object(r.a)(h,2),x=p[0],v=p[1],E=[{value:"ADALAR",label:"ADALAR"},{value:"ARNAVUTK\xd6Y",label:"ARNAVUTK\xd6Y"},{value:"ATA\u015eEH\u0130R",label:"ATA\u015eEH\u0130R"},{value:"AVCILAR",label:"AVCILAR"},{value:"BA\u011eCILAR",label:"BA\u011eCILAR"},{value:"BAH\xc7EL\u0130EVLER",label:"BAH\xc7EL\u0130EVLER"},{value:"BAKIRK\xd6Y",label:"BAKIRK\xd6Y"},{value:"BA\u015eAK\u015eEH\u0130R",label:"BA\u015eAK\u015eEH\u0130R"},{value:"BAYRAMPA\u015eA",label:"BAYRAMPA\u015eA"},{value:"BEYKOZ",label:"BEYKOZ"},{value:"BEYL\u0130KD\xdcZ\xdc",label:"BEYL\u0130KD\xdcZ\xdc"},{value:"BEYO\u011eLU",label:"BEYO\u011eLU"},{value:"B\xdcY\xdcK\xc7EKMECE",label:"B\xdcY\xdcK\xc7EKMECE"},{value:"\xc7ATALCA",label:"\xc7ATALCA"},{value:"\xc7EKMEK\xd6Y",label:"\xc7EKMEK\xd6Y"},{value:"ESENLER",label:"ESENLER"},{value:"ESENYURT",label:"ESENYURT"},{value:"EY\xdcPSULTAN",label:"EY\xdcPSULTAN"},{value:"FAT\u0130H",label:"FAT\u0130H"},{value:"GAZ\u0130OSMANPA\u015eA",label:"GAZ\u0130OSMANPA\u015eA"},{value:"G\xdcNG\xd6REN",label:"G\xdcNG\xd6REN"},{value:"KADIK\xd6Y",label:"KADIK\xd6Y"},{value:"KA\u011eITHANE",label:"KA\u011eITHANE"},{value:"KARTAL",label:"KARTAL"},{value:"K\xdc\xc7\xdcK\xc7EKMECE",label:"K\xdc\xc7\xdcK\xc7EKMECE"},{value:"MALTEPE",label:"MALTEPE"},{value:"K\xdc\xc7\xdcK\xc7EKMECE",label:"K\xdc\xc7\xdcK\xc7EKMECE"},{value:"PEND\u0130K",label:"PEND\u0130K"},{value:"SANCAKTEPE",label:"SANCAKTEPE"},{value:"SARIYER",label:"SARIYER"},{value:"S\u0130L\u0130VR\u0130",label:"S\u0130L\u0130VR\u0130"},{value:"SULTANBEYL\u0130",label:"SULTANBEYL\u0130"},{value:"SULTANGAZ\u0130",label:"SULTANGAZ\u0130"},{value:"\u015e\u0130LE",label:"\u015e\u0130LE"},{value:"\u015e\u0130\u015eL\u0130",label:"\u015e\u0130\u015eL\u0130"},{value:"TUZLA",label:"TUZLA"},{value:"\xdcMRAN\u0130YE",label:"\xdcMRAN\u0130YE"},{value:"\xdcSK\xdcDAR",label:"\xdcSK\xdcDAR"},{value:"ZEYT\u0130NBURNU",label:"ZEYT\u0130NBURNU"}],R=Object(c.useState)(""),C=Object(r.a)(R,2),L=(C[0],C[1]),K=Object(c.useState)(""),S=Object(r.a)(K,2),w=(S[0],S[1]),_=Object(c.useState)(!1),y=Object(r.a)(_,2),I=(y[0],y[1]),U=Object(i.g)(),D=function(e){var a=e.target,t=a.name,c=a.value;v(Object(o.a)(Object(o.a)({},x),{},Object(l.a)({},t,c)))},V=function(){var e=Object(N.a)(f.a.mark((function e(a){var t,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.target.files[0],e.next=3,Z(t);case 3:c=e.sent,b(c);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Z=function(e){return new Promise((function(a,t){var c=new FileReader;c.readAsDataURL(e),c.onload=function(){a(c.result)},c.onerror=function(e){t(e)}}))},H=function(){j.a.post("".concat(u.config.SERVER_URI,"/api/createPost"),{name:x.name.toUpperCase(),breed:x.breed,location:x.location.toLowerCase(),age:x.age,p_image:n,extra_info:x.extra_info,vaccinated:x.vaccinated,ts:(new Date).toLocaleString()+"",user_id:a}).then((function(e){I(!0),U.push("/feed")})).catch((function(e){var a=e.response.data.errors[0].msg;a?(console.log(a),w(a),v({name:"",breed:"",location:"",age:0,p_image:"",extra_info:"",vaccinated:"",ts:"",baseImage:""}),a=""):(w(""),U.push("/feed"),I(!0))}))};return Object(m.jsxs)("div",{children:[Object(m.jsx)(T,{}),Object(m.jsx)("div",{style:{backgroundImage:"url(".concat(Y,")"),display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:Object(m.jsx)(k.a,(e={border:"danger",bg:"light".toLowerCase(),text:"dark",style:{width:"18rem"},className:"mb-2"},Object(l.a)(e,"style",{width:"50rem",height:"44rem"}),Object(l.a)(e,"children",Object(m.jsxs)(d.c,{className:"form",onSubmit:function(e){e.preventDefault(),L(function(e){var a={};return"Select"===!e.breed&&(a.name="Breed required"),""===e.name&&(a.email="Name required"),""===e.age&&(a.phone="Age required"),""===e.location&&(a.phone="Location required"),"Select"===e.vaccinated&&(a.phone="Vaccination Status required"),a}(x)),H()},children:[Object(m.jsx)(k.a.Img,{variant:"top",src:""}),Object(m.jsxs)(k.a.Body,{children:[Object(m.jsx)(k.a.Title,{className:"makeCenter",style:{fontSize:28},children:"Let's find a home for our pet friend!"}),Object(m.jsx)("br",{}),Object(m.jsxs)(g.a,{children:[Object(m.jsxs)(A.a,{children:[Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"createPostTitle makeCenter",children:"Breed"}),Object(m.jsx)(O.a,{options:P,value:P[x.breed],onChange:function(e){var a=e.value;v(Object(o.a)(Object(o.a)({},x),{},Object(l.a)({},"breed",a))),x.breed=e.value}})]}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"createPostTitle makeCenter",children:"Name"}),Object(m.jsx)(d.e,{type:"name",name:"name",id:"name",value:x.name,onChange:D})]}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"createPostTitle makeCenter",children:"Age"}),Object(m.jsx)(d.e,{type:"number",name:"age",id:"age",min:"0",max:"30",value:x.age,onChange:D})]}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"createPostTitle makeCenter",children:"Location"}),Object(m.jsx)(O.a,{options:E,value:E[x.location.toUpperCase()],onChange:function(e){var a=e.value;v(Object(o.a)(Object(o.a)({},x),{},Object(l.a)({},"location",a))),x.location=e.value}})]}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"createPostTitle makeCenter",children:"Vaccination Status"}),Object(m.jsx)(O.a,{options:M,value:M[x.vaccinated],onChange:function(e){var a=e.value;v(Object(o.a)(Object(o.a)({},x),{},Object(l.a)({},"vaccinated",a))),x.vaccinated=e.value}})]}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.f,{className:"createPostTitle makeCenter",children:"Extra Info"}),Object(m.jsx)(d.e,{type:"text",name:"extra_info",id:"extra_info",value:x.extra_info,onChange:D})]})]}),Object(m.jsx)(A.a,{className:"makeCenter",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"file",onChange:function(e){V(e)}}),Object(m.jsx)("img",{className:"photo",src:x.p_image}),Object(m.jsx)("img",{className:"photo",src:n})]})}),Object(m.jsxs)(g.a,{children:[Object(m.jsx)(A.a,{children:Object(m.jsx)(B.a,{className:"makeCenter",variant:"danger",size:"lg",onClick:function(){U.push("/feed")},style:{marginRight:10},children:"CANCEL"})}),Object(m.jsx)(A.a,{children:Object(m.jsx)(B.a,{className:"makeCenter",variant:"success",size:"lg",type:"submit",children:"POST"})})]})]}),Object(m.jsx)(k.a.Text,{})]})]})),e))})]})};function V(){var e=Object(c.useState)({posts:{},search_name:"",search_location:"",search_breed:""}),a=Object(r.a)(e,2),t=a[0],s=a[1],n=[{value:"ADALAR",label:"ADALAR"},{value:"ARNAVUTK\xd6Y",label:"ARNAVUTK\xd6Y"},{value:"ATA\u015eEH\u0130R",label:"ATA\u015eEH\u0130R"},{value:"AVCILAR",label:"AVCILAR"},{value:"BA\u011eCILAR",label:"BA\u011eCILAR"},{value:"BAH\xc7EL\u0130EVLER",label:"BAH\xc7EL\u0130EVLER"},{value:"BAKIRK\xd6Y",label:"BAKIRK\xd6Y"},{value:"BA\u015eAK\u015eEH\u0130R",label:"BA\u015eAK\u015eEH\u0130R"},{value:"BAYRAMPA\u015eA",label:"BAYRAMPA\u015eA"},{value:"BEYKOZ",label:"BEYKOZ"},{value:"BEYL\u0130KD\xdcZ\xdc",label:"BEYL\u0130KD\xdcZ\xdc"},{value:"BEYO\u011eLU",label:"BEYO\u011eLU"},{value:"B\xdcY\xdcK\xc7EKMECE",label:"B\xdcY\xdcK\xc7EKMECE"},{value:"\xc7ATALCA",label:"\xc7ATALCA"},{value:"\xc7EKMEK\xd6Y",label:"\xc7EKMEK\xd6Y"},{value:"ESENLER",label:"ESENLER"},{value:"ESENYURT",label:"ESENYURT"},{value:"EY\xdcPSULTAN",label:"EY\xdcPSULTAN"},{value:"FAT\u0130H",label:"FAT\u0130H"},{value:"GAZ\u0130OSMANPA\u015eA",label:"GAZ\u0130OSMANPA\u015eA"},{value:"G\xdcNG\xd6REN",label:"G\xdcNG\xd6REN"},{value:"KADIK\xd6Y",label:"KADIK\xd6Y"},{value:"KA\u011eITHANE",label:"KA\u011eITHANE"},{value:"KARTAL",label:"KARTAL"},{value:"K\xdc\xc7\xdcK\xc7EKMECE",label:"K\xdc\xc7\xdcK\xc7EKMECE"},{value:"MALTEPE",label:"MALTEPE"},{value:"K\xdc\xc7\xdcK\xc7EKMECE",label:"K\xdc\xc7\xdcK\xc7EKMECE"},{value:"PEND\u0130K",label:"PEND\u0130K"},{value:"SANCAKTEPE",label:"SANCAKTEPE"},{value:"SARIYER",label:"SARIYER"},{value:"S\u0130L\u0130VR\u0130",label:"S\u0130L\u0130VR\u0130"},{value:"SULTANBEYL\u0130",label:"SULTANBEYL\u0130"},{value:"SULTANGAZ\u0130",label:"SULTANGAZ\u0130"},{value:"\u015e\u0130LE",label:"\u015e\u0130LE"},{value:"\u015e\u0130\u015eL\u0130",label:"\u015e\u0130\u015eL\u0130"},{value:"TUZLA",label:"TUZLA"},{value:"\xdcMRAN\u0130YE",label:"\xdcMRAN\u0130YE"},{value:"\xdcSK\xdcDAR",label:"\xdcSK\xdcDAR"},{value:"ZEYT\u0130NBURNU",label:"ZEYT\u0130NBURNU"}],i=[{value:"cat",label:"Cat"},{value:"dog",label:"Dog"},{value:"bird",label:"Bird"}];function b(){return(b=Object(N.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.a.post("".concat(u.config.SERVER_URI,"/api/search"),{search_breed:"%"+t.search_breed.toLowerCase()+"%",search_name:"%"+t.search_name.toUpperCase()+"%",search_location:"%"+t.search_location.toLowerCase()+"%"}).then((function(e){console.log(e),h(e.data.posts)})).catch((function(e){console.log(e.response);var a=e.response.data.errors[0].msg;console.log(a)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(e){s(Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},"posts",e))),t.posts=e};return Object(m.jsxs)("div",{style:{backgroundImage:"url(".concat(Y,")"),backgroundPosition:"center",height:"100%"},children:[Object(m.jsx)(T,{}),Object(m.jsx)(d.c,{onSubmit:function(e){var a=e.target,c=a.name,n=a.value;s(Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},c,n))),e.preventDefault(),function(){b.apply(this,arguments)}()},children:Object(m.jsxs)(g.a,{className:"makeCenter",children:[Object(m.jsx)(A.a,{md:3,children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)("label",{children:"Breed"}),Object(m.jsx)(O.a,{options:i,value:i[t.search_breed],onChange:function(e){var a=e.value;s(Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},"search_breed",a))),t.search_breed=e.value}})]})}),Object(m.jsx)(A.a,{md:3,className:"my-1",children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)("label",{children:"Name"}),Object(m.jsx)(d.e,{name:"search_name",id:"search_name",value:t.search_name,onChange:function(e){var a=e.target,c=a.name,n=a.value;s(Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},c,n)))}})]})}),Object(m.jsx)(A.a,{md:3,className:"my-1",children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)("label",{children:"Location"}),Object(m.jsx)(O.a,{options:n,value:n[t.search_location],onChange:function(e){var a=e.value;s(Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},"search_location",a))),t.search_location=e.value}})]})}),Object(m.jsx)(A.a,{md:2,className:"my-1",children:Object(m.jsx)(d.a,{className:"makeCenter",variant:"success",size:"lg",type:"submit",children:"Search"})})]})}),Object(m.jsx)("div",{style:{backgroundImage:"url(".concat(Y,")"),backgroundPosition:"center"},className:"makeCenter",children:Object(m.jsx)(g.a,{children:t.posts.length>0&&t.posts.map((function(e,a){return Object(m.jsx)(A.a,{xs:6,className:"makeCenter",children:Object(m.jsx)(_,{name:e.name,breed:e.breed,age:e.age,location:e.location,extra_info:e.extra_info,p_image:e.p_image,vaccinated:e.vaccinated,ts:e.ts})})}))})})]})}var Z=t.p+"static/media/green_bg.14f5c6c8.jpg",H=(t(35),function(e){var a=e.handleSubmit,t=e.submitLabel,s=e.hasCancelButton,n=void 0!==s&&s,l=e.initialText,o=void 0===l?"":l,i=e.handleCancel,b=Object(c.useState)(o),j=Object(r.a)(b,2),d=j[0],u=j[1],h=0===d.length;return Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(d),u("")},children:[Object(m.jsx)("textarea",{className:"comment-form-textarea",value:d,onChange:function(e){return u(e.target.value)}}),Object(m.jsx)("button",{className:"comment-form-button",disabled:h,children:t}),n&&Object(m.jsx)("button",{type:"button",className:"comment-form-button comment-form-cancel-button",onClick:i,children:"Cancel"})]})}),G=function(e){var a=e.comment_id,t=e.text,s=e.user_id,n=(e.post_id,e.ts),l=e.activeComment,o=e.setActiveComment,i=e.deleteComment,b=e.updateComment,d=parseInt(sessionStorage.getItem("token"),10),h=l&&l.id===a&&"editing"===l.type,O=d===s,p=d===s,x=new Date(n).toLocaleDateString(),v=Object(c.useState)(""),g=Object(r.a)(v,2),A=g[0],E=g[1];return Object(c.useEffect)((function(){!function(e){j.a.post("".concat(u.config.SERVER_URI,"/api/get_username"),{id:e}).then((function(e){e&&(console.log(e),E(e.data.name))})).catch((function(e){console.log("error in"),console.log(e.response)}))}(s)}),[]),Object(m.jsx)("div",{className:"comment",children:Object(m.jsxs)("div",{className:"comment-right-part",children:[Object(m.jsxs)("div",{className:"comment-content",children:[Object(m.jsx)("div",{className:"comment-author",children:A}),Object(m.jsx)("div",{children:x})]}),!h&&Object(m.jsx)("div",{className:"comment-text",children:t}),h&&Object(m.jsx)(H,{submitLabel:"Update",hasCancelButton:!0,initialText:t,handleSubmit:function(e){return b(e,a)},handleCancel:function(){o(null)}}),Object(m.jsxs)("div",{className:"comment-actions",children:[p&&Object(m.jsx)("div",{className:"comment-action",onClick:function(){return o({id:a,type:"editing"})},children:"Edit"}),O&&Object(m.jsx)("div",{className:"comment-action",onClick:function(){return i(a)},children:"Delete"})]})]})})},z=function(e){var a,t=e.post_id,s=Object(c.useState)({comments:{}}),n=Object(r.a)(s,2),i=n[0],b=n[1],d=Object(c.useState)(null),h=Object(r.a)(d,2),O=h[0],p=h[1],x=function(e){b(Object(o.a)(Object(o.a)({},i),{},Object(l.a)({},"comments",e.sort((function(e,a){return new Date(e.ts).getTime()})))))};Object(c.useEffect)((function(){!function(e){j.a.post("".concat(u.config.SERVER_URI,"/api/get_comments"),{id:e}).then((function(e){e&&(console.log(e),x(e.data.comments))})).catch((function(e){console.log("error in"),console.log(e.response)}))}(t)}),[]);var v=function(e,a){console.log("Update Comment"),j.a.post("".concat(u.config.SERVER_URI,"/api/edit_comment"),{comment:e,id:a,post_id:t}).then((function(e){e&&(console.log(e),x(e.data.comments),p(null))})).catch((function(e){console.log("error in"),console.log(e.response)}))},g=function(e){console.log("Delete Comment"),window.confirm("Are you sure you want to remove comment?")&&j.a.post("".concat(u.config.SERVER_URI,"/api/delete_comment"),{id:e,post_id:t}).then((function(e){e&&(console.log(e),x(e.data.comments),p(null))})).catch((function(e){console.log("error in"),console.log(e.response)}))};return Object(m.jsx)("div",{children:Object(m.jsxs)(k.a,(a={border:"danger",bg:"light".toLowerCase(),text:"dark",style:{width:"18rem"},className:"mb-2"},Object(l.a)(a,"style",{width:"30rem",height:"800px"}),Object(l.a)(a,"children",[Object(m.jsx)(k.a.Img,{variant:"top",src:""}),Object(m.jsxs)(k.a.Body,{children:[Object(m.jsx)(k.a.Title,{className:"makeCenter postTitle",style:{fontSize:28,textTransform:"uppercase"},children:"Comments"}),Object(m.jsx)("br",{}),Object(m.jsx)(k.a.Text,{children:Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"comments",children:[Object(m.jsx)("div",{className:"comment-form-title",children:"Leave a comment"}),Object(m.jsx)(H,{submitLabel:"Write",handleSubmit:function(e){console.log("add Comment"),j.a.post("".concat(u.config.SERVER_URI,"/api/add_comment"),{user_id:sessionStorage.getItem("token"),post_id:t,ts:(new Date).toLocaleString()+"",comment:e}).then((function(e){e&&(console.log(e),x(e.data.comments),p(null))})).catch((function(e){console.log("error in"),console.log(e.response)}))}}),Object(m.jsx)("div",{className:"comments-container",children:i.comments.length>0&&i.comments.map((function(e,a){return Object(m.jsx)(G,{comment_id:e.comment_id,text:e.comment,user_id:e.user_id,post_id:e.post_id,ts:e.ts,activeComment:O,setActiveComment:p,deleteComment:g,updateComment:v})}))})]})})})]})]),a))})};var q=function(e){var a=Object(i.h)(),t=Object(c.useState)({posts:{},comments:{}}),s=Object(r.a)(t,2),n=s[0],b=s[1],d=function(e){b(Object(o.a)(Object(o.a)({},n),{},Object(l.a)({},"posts",e))),n.posts=e};return Object(c.useEffect)((function(){var e=a.state;console.log(e),function(e){j.a.post("".concat(u.config.SERVER_URI,"/api/post"),{id:e}).then((function(e){e||console.log("yes error"),console.log(e),d(e.data.posts)})).catch((function(e){console.log("error in"),console.log(e.response);var a=e.response.data.errors[0].msg;console.log(a),a||console.log("Yes error.")}))}(e)}),[]),Object(m.jsxs)("div",{style:{backgroundImage:"url(".concat(Z,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",height:"100%"},children:[Object(m.jsx)(T,{}),Object(m.jsx)(g.a,{children:Object(m.jsx)("div",{className:"makeCenter",style:{padding:"20px",backgroundImage:"url(".concat(Z,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",height:"100%"},children:Object(m.jsx)("div",{children:Object(m.jsx)(g.a,{children:n.posts.length>0&&n.posts.map((function(e,a){return Object(m.jsx)("div",{children:Object(m.jsxs)(A.a,{xs:12,className:"makeCenter",children:[Object(m.jsx)(_,{name:e.name,breed:e.breed,age:e.age,location:e.location,extra_info:e.extra_info,p_image:e.p_image,vaccinated:e.vaccinated,ts:e.ts,post_id:e.post_id}),Object(m.jsx)(z,{post_id:e.post_id})]})})}))})})})})]})},F=t(20),J=function(){var e=sessionStorage.getItem("token"),a=Object(c.useState)({posts:{}}),t=Object(r.a)(a,2),s=t[0],n=t[1],b=Object(i.g)(),d=Object(c.useState)(""),h=Object(r.a)(d,1)[0],O=Object(c.useState)(!1),p=Object(r.a)(O,1)[0],x=function(){j.a.post("".concat(u.config.SERVER_URI,"/api/get-user-posts"),{user_id:e}).then((function(e){var a;a=e.data.posts,console.log("e is "+a),n(Object(o.a)(Object(o.a)({},s),{},Object(l.a)({},"posts",a))),s.posts=a})).catch((function(e){console.log(e.response);var a=e.response.data.errors[0].msg;console.log(a),a||(h(""),b.push("/feed"),p(!0))}))};return Object(c.useEffect)((function(){return x()}),[]),Object(m.jsxs)("div",{style:{backgroundImage:"url(".concat(Y,")"),backgroundPosition:"center",height:"100%"},children:[Object(m.jsx)(T,{}),Object(m.jsxs)(g.a,{style:{marginTop:"3%"},children:[Object(m.jsx)("label",{className:"makeCenter",style:{marginBottom:"2%",textTransform:"uppercase",color:"black",fontSize:"18px"},children:s.posts.length>0?"The announcements that you have posted so far":"You have not posted anything yet."}),"          ",s.posts.length>0&&s.posts.map((function(e,a){return Object(m.jsx)(A.a,{xs:6,className:"makeCenter",children:Object(m.jsx)(_,{name:e.name,breed:e.breed,age:e.age,location:e.location,extra_info:e.extra_info,p_image:e.p_image,vaccinated:e.vaccinated,ts:e.ts,post_id:e.post_id})})}))]})]})},$=function(){var e=Object(c.useState)({posts:{}}),a=Object(r.a)(e,2),t=a[0],s=a[1],n=sessionStorage.getItem("token");function i(){return(i=Object(N.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("in getData()"),j.a.post("".concat(u.config.SERVER_URI,"/api/nearByMe"),{user_id:n}).then((function(e){console.log("the data is:"),console.log(e),b(e.data.posts)})).catch((function(e){console.log(e.response);var a=e.response.data.errors[0].msg;console.log(a)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){return function(){return i.apply(this,arguments)}()}),[]);var b=function(e){s(Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},"posts",e))),t.posts=e};return Object(m.jsxs)("div",{style:{backgroundImage:"url(".concat(Y,")"),backgroundPosition:"center",height:"100%"},children:[Object(m.jsx)(T,{}),Object(m.jsxs)(g.a,{style:{marginTop:"3%"},children:[Object(m.jsx)("label",{className:"makeCenter",style:{marginBottom:"2%",textTransform:"uppercase",color:"black",fontSize:"18px"},children:t.posts.length>0?"You are seeing the posts that are near to you: "+t.posts[0].location:"Unfortunately, we could not find any posts close to you."}),t.posts.length>0&&t.posts.map((function(e,a){return Object(m.jsx)(A.a,{xs:6,className:"makeCenter",children:Object(m.jsx)(_,{name:e.name,breed:e.breed,age:e.age,location:e.location,extra_info:e.extra_info,p_image:e.p_image,vaccinated:e.vaccinated,ts:e.ts})})}))]})]})};var W=function(){var e,a=sessionStorage.getItem("token"),t=Object(c.useState)(""),s=Object(r.a)(t,2),n=s[0],o=s[1],b=Object(c.useState)(!1),h=Object(r.a)(b,2),O=(h[0],h[1]),p=Object(i.g)(),x=Object(c.useState)(""),v=Object(r.a)(x,2),E=v[0],f=v[1],N=Object(c.useState)(""),R=Object(r.a)(N,2),C=R[0],L=R[1],K=Object(c.useState)(""),S=Object(r.a)(K,2),w=S[0],_=S[1],y=function(){j.a.put("".concat(u.config.SERVER_URI,"/api/change-password"),{email:w,password:E,new_password:C,user_id:a}).then((function(e){O(!0),p.push("/feed")})).catch((function(e){var a=e.response.data.errors[0].msg;a?(console.log(a),o(a),p.push("/changePassword"),a=""):(o(""),p.push("/feed"),O(!0))}))};return Object(m.jsxs)("div",{children:[Object(m.jsx)(T,{}),Object(m.jsx)("div",{style:{backgroundImage:"url(".concat(Y,")"),display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:Object(m.jsx)(k.a,(e={border:"danger",bg:"light".toLowerCase(),text:"dark",style:{width:"18rem"},className:"mb-2"},Object(l.a)(e,"style",{width:"50rem",height:"44rem"}),Object(l.a)(e,"children",Object(m.jsxs)(d.c,{className:"form",onSubmit:function(e){e.preventDefault(),y()},children:[Object(m.jsx)(k.a.Img,{variant:"top",src:""}),Object(m.jsxs)(k.a.Body,{children:[Object(m.jsx)(k.a.Title,{className:"makeCenter",style:{fontSize:28},children:"Change Your Password"}),Object(m.jsx)("br",{}),Object(m.jsxs)(g.a,{children:[Object(m.jsxs)(A.a,{children:[Object(m.jsx)(d.d,{children:Object(m.jsx)(d.e,{type:"email",placeholder:"Type email...",onChange:function(e){_(e.target.value)}})}),Object(m.jsx)(d.d,{children:Object(m.jsx)(d.e,{type:"password",placeholder:"Old Password...",onChange:function(e){f(e.target.value)}})}),Object(m.jsx)(d.d,{children:Object(m.jsx)(d.e,{type:"password",placeholder:"New Password...",onChange:function(e){L(e.target.value)}})})]}),Object(m.jsxs)(g.a,{className:"justify-content-evenly",children:[Object(m.jsx)(A.a,{className:"makeCenter",children:Object(m.jsx)(B.a,{variant:"danger",size:"lg",onClick:function(){p.push("/feed")},children:"CANCEL"})}),Object(m.jsx)(A.a,{className:"makeCenter",children:Object(m.jsx)(B.a,{variant:"success",size:"lg",type:"submit",children:"CHANGE"})}),n&&Object(m.jsx)("h3",{className:"text-black text-center",children:n})]})]}),Object(m.jsx)(k.a.Text,{})]})]})),e))})]})};var Q=function(){var e=function(){var e=Object(c.useState)(!!sessionStorage.getItem("token")),a=Object(r.a)(e,2),t=a[0],s=a[1];return{setToken:function(e){sessionStorage.setItem("token",e),s(!0)},token:t}}(),a=e.token,t=e.setToken;return a?Object(m.jsx)(F.a,{children:Object(m.jsxs)(i.d,{children:[Object(m.jsx)(i.b,{path:"/feed",component:y}),Object(m.jsx)(i.b,{path:"/createPost",component:D}),Object(m.jsx)(i.b,{path:"/dm",component:I}),Object(m.jsx)(i.b,{path:"/settings",component:U}),Object(m.jsx)(i.b,{path:"/search",component:V}),Object(m.jsx)(i.b,{path:"/postComment",component:q}),Object(m.jsx)(i.b,{path:"/myPosts",component:J}),Object(m.jsx)(i.b,{path:"/nearByMe",component:$}),Object(m.jsx)(i.b,{path:"/changePassword",component:W}),Object(m.jsx)(i.b,{path:"/profile",component:U})]})}):Object(m.jsx)(F.a,{children:Object(m.jsxs)(i.d,{children:[Object(m.jsx)(i.b,{path:"/",exact:!0,component:v}),Object(m.jsx)(i.b,{path:"/login",component:function(){return Object(m.jsx)(h,{setToken:t})}}),Object(m.jsx)(i.b,{path:"/register",component:p}),Object(m.jsx)(i.a,{to:"/login"})]})})};t(101);n.a.render(Object(m.jsx)(Q,{}),document.getElementById("root"))},28:function(e,a,t){},35:function(e,a,t){}},[[102,1,2]]]);
//# sourceMappingURL=main.ea3a5cbf.chunk.js.map