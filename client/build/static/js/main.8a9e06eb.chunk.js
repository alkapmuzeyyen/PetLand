(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t){e.exports.config={SERVER_URI:"https://petland-app.herokuapp.com"}},130:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(18),n=a.n(c),l=(a(42),a(8)),o=a(5),r=a(7),i=a(15),j=a(11),b=a.n(j),d=a.p+"static/media/bg-login-register.ef876256.jpeg",u=a(6),m=a(10),h=a(2);function O(e){var t=e.setToken,a=Object(s.useState)(""),c=Object(r.a)(a,2),n=c[0],j=c[1],O=Object(i.g)(),p=Object(s.useState)(!1),g=Object(r.a)(p,2),x=(g[0],g[1]),v=Object(s.useState)(""),f=Object(r.a)(v,2),E=f[0],A=f[1],N=Object(s.useState)({email:"",password:""}),R=Object(r.a)(N,2),C=R[0],S=R[1],_=function(e){var t=e.target,a=t.name,s=t.value;S(Object(o.a)(Object(o.a)({},C),{},Object(l.a)({},a,s)))};return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(u.b,{style:{height:"100vh",backgroundImage:"url(".concat(d,")")},children:Object(h.jsx)("div",{style:{backgroundColor:"black"},className:"register-form",children:Object(h.jsxs)(u.c,{className:"form",onSubmit:function(e){console.log("handleSubmit"),e.preventDefault(),j(function(e){var t={};return e.email?/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e.email)||(t.email="Email address is invalid"):t.email="Email required",e.password||(t.password="Password is required"),t}(C)),n==={}&&console.log("no error"),console.log("in"),b.a.post("".concat(m.config.SERVER_URI,"/api/login"),{email:C.email,password:C.password}).then((function(e){var a=e.data.token;console.log("Token:",a),e?console.log(e):console.log("no error"),x(!0),t(a),console.log("token set"),O.push("/feed")})).catch((function(e){console.log(e);var t=e.response.data.errors[0].msg;console.log(t),t?(console.log(t),A(t),S({email:"",password:""}),t=""):(A(""),O.push("/feed"),x(!0))}))},children:[Object(h.jsx)("h2",{className:"text-warning text-center",children:"Login"}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"text-white",children:"Email"}),Object(h.jsx)(u.e,{type:"email",name:"email",id:"email",value:C.email,onChange:_}),n.email&&Object(h.jsx)("p",{className:"text-danger",children:n.email})]}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"text-white",children:"Password"}),Object(h.jsx)(u.e,{type:"password",name:"password",id:"password",value:C.password,onChange:_}),n.password&&Object(h.jsx)("p",{className:"text-danger",children:n.password})]}),Object(h.jsxs)("div",{className:"row justify-content-evenly",children:[Object(h.jsx)("div",{className:"col",children:Object(h.jsx)(u.a,{className:"btn-outline",children:"Login"})}),Object(h.jsxs)("div",{className:"col",children:[Object(h.jsxs)("text",{className:"text-danger",children:["Create an account-",">"]}),Object(h.jsx)(u.a,{className:"btn-outline ml-1",onClick:function(){O.push("/register")},children:"Register"})]}),E&&Object(h.jsx)("h3",{className:"text-white text-center",children:E})]})]})})})})}var p=a(32);var g=function(){var e=Object(s.useState)({name:"",email:"",phone:"",address:"",password:"",password2:""}),t=Object(r.a)(e,2),a=t[0],c=t[1],n=[{value:"ADALAR",label:"ADALAR"},{value:"ARNAVUTK\xd6Y",label:"ARNAVUTK\xd6Y"},{value:"ATA\u015eEH\u0130R",label:"ATA\u015eEH\u0130R"},{value:"AVCILAR",label:"AVCILAR"},{value:"BA\u011eCILAR",label:"BA\u011eCILAR"},{value:"BAH\xc7EL\u0130EVLER",label:"BAH\xc7EL\u0130EVLER"},{value:"BAKIRK\xd6Y",label:"BAKIRK\xd6Y"},{value:"BA\u015eAK\u015eEH\u0130R",label:"BA\u015eAK\u015eEH\u0130R"},{value:"BAYRAMPA\u015eA",label:"BAYRAMPA\u015eA"},{value:"BEYKOZ",label:"BEYKOZ"},{value:"BEYL\u0130KD\xdcZ\xdc",label:"BEYL\u0130KD\xdcZ\xdc"},{value:"BEYO\u011eLU",label:"BEYO\u011eLU"},{value:"B\xdcY\xdcK\xc7EKMECE",label:"B\xdcY\xdcK\xc7EKMECE"},{value:"\xc7ATALCA",label:"\xc7ATALCA"},{value:"\xc7EKMEK\xd6Y",label:"\xc7EKMEK\xd6Y"},{value:"ESENLER",label:"ESENLER"},{value:"ESENYURT",label:"ESENYURT"},{value:"EY\xdcPSULTAN",label:"EY\xdcPSULTAN"},{value:"FAT\u0130H",label:"FAT\u0130H"},{value:"GAZ\u0130OSMANPA\u015eA",label:"GAZ\u0130OSMANPA\u015eA"},{value:"G\xdcNG\xd6REN",label:"G\xdcNG\xd6REN"},{value:"KADIK\xd6Y",label:"KADIK\xd6Y"},{value:"KA\u011eITHANE",label:"KA\u011eITHANE"},{value:"KARTAL",label:"KARTAL"},{value:"K\xdc\xc7\xdcK\xc7EKMECE",label:"K\xdc\xc7\xdcK\xc7EKMECE"},{value:"MALTEPE",label:"MALTEPE"},{value:"K\xdc\xc7\xdcK\xc7EKMECE",label:"K\xdc\xc7\xdcK\xc7EKMECE"},{value:"PEND\u0130K",label:"PEND\u0130K"},{value:"SANCAKTEPE",label:"SANCAKTEPE"},{value:"SARIYER",label:"SARIYER"},{value:"S\u0130L\u0130VR\u0130",label:"S\u0130L\u0130VR\u0130"},{value:"SULTANBEYL\u0130",label:"SULTANBEYL\u0130"},{value:"SULTANGAZ\u0130",label:"SULTANGAZ\u0130"},{value:"\u015e\u0130LE",label:"\u015e\u0130LE"},{value:"\u015e\u0130\u015eL\u0130",label:"\u015e\u0130\u015eL\u0130"},{value:"TUZLA",label:"TUZLA"},{value:"\xdcMRAN\u0130YE",label:"\xdcMRAN\u0130YE"},{value:"\xdcSK\xdcDAR",label:"\xdcSK\xdcDAR"},{value:"ZEYT\u0130NBURNU",label:"ZEYT\u0130NBURNU"}],j=Object(s.useState)(""),O=Object(r.a)(j,2),g=O[0],x=O[1],v=Object(s.useState)(""),f=Object(r.a)(v,2),E=f[0],A=f[1],N=Object(s.useState)(!1),R=Object(r.a)(N,2),C=R[0],S=R[1],_=Object(i.g)(),w=function(e){var t=e.target,s=t.name,n=t.value;c(Object(o.a)(Object(o.a)({},a),{},Object(l.a)({},s,n)))},L=function(){console.log("in"),b.a.post("".concat(m.config.SERVER_URI,"/api/register"),{name:a.name,email:a.email,phone:a.phone,address:a.address.toLowerCase(),password:a.password}).then((function(e){e||console.log("no error"),S(!0),_.push("/login")})).catch((function(e){console.log(e.response);var t=e.response.data.errors[0].msg;console.log(t),t?(console.log(t),A(t),c({name:"",email:"",phone:"",address:"",password:"",password2:""}),t=""):(A(""),_.push("/login"),S(!0))}))};return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(u.b,{style:{height:"100vh",overflow:"auto",backgroundImage:"url(".concat(d,")")},children:Object(h.jsx)("div",{style:{backgroundColor:"black"},className:"register-form",children:Object(h.jsxs)(u.c,{className:"form",onSubmit:function(e){console.log("handleSubmit"),e.preventDefault(),x(function(e){var t={};return e.name.trim()||(t.name="Name required"),e.email.trim()?/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e.email)||(t.email="Email address is invalid"):t.email="Email required",e.phone.trim()||(t.phone="Phone required"),e.password?e.password.length<6&&(t.password="Password needs to be 6 characters or more."):t.password="Password is required",e.password2?e.password2!==e.password&&(t.password2="Passwords do not match"):t.password2="Password is required",t}(a)),g==={}&&console.log("no error"),L()},children:[C?Object(h.jsx)("span",{children:"Success! Thank you for registering."}):null,Object(h.jsx)("h2",{className:"text-warning text-center",children:"Register"}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"text-white",children:"Name-Surname"}),Object(h.jsx)(u.e,{type:"name",name:"name",id:"name",value:a.name,onChange:w}),g.name&&Object(h.jsx)("p",{className:"text-danger",children:g.name})]}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"text-white",children:"Email"}),Object(h.jsx)(u.e,{type:"email",name:"email",id:"email",value:a.email,onChange:w}),g.email&&Object(h.jsx)("p",{className:"text-danger",children:g.email})]}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"text-white",children:"Phone Number"}),Object(h.jsx)(u.e,{type:"number",name:"phone",id:"phone",value:a.phone,onChange:w}),g.phone&&Object(h.jsx)("p",{className:"text-danger",children:g.phone})]}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"text-white",children:"Address (District)"}),Object(h.jsx)(p.a,{options:n,value:n[a.address],onChange:function(e){var t=e.value;c(Object(o.a)(Object(o.a)({},a),{},Object(l.a)({},"address",t))),a.address=e.value}})]}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"text-white",children:"Password"}),Object(h.jsx)(u.e,{type:"password",name:"password",id:"password",value:a.password,onChange:w}),g.password&&Object(h.jsx)("p",{className:"text-danger",children:g.password})]}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"text-white",children:"Password"}),Object(h.jsx)(u.e,{type:"password",id:"password2",name:"password2",value:a.password2,onChange:w}),g.password2&&Object(h.jsx)("p",{className:"text-danger",children:g.password2}),"\\"]}),Object(h.jsxs)("div",{className:"row justify-content-evenly",children:[Object(h.jsx)("div",{className:"col-6",children:Object(h.jsx)(u.a,{className:"btn-outline",children:"Register"})}),Object(h.jsx)("div",{className:"col-3 makeCenter",children:Object(h.jsx)("label",{className:"text-danger",children:"Already have an account?"})}),Object(h.jsx)("div",{className:"col-3 makeCenter",children:Object(h.jsx)(u.a,{className:"btn-outline ml-1",onClick:function(){_.push("/login")},children:"Login"})}),E&&Object(h.jsx)("h3",{className:"text-white text-center",children:E})]})]})})})})},x=a.p+"static/media/welcome_bg.8280a89e.jpg";var v=function(){return Object(h.jsx)("div",{class:"view p-3 mb-2",style:{backgroundImage:"url(".concat(x,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},children:Object(h.jsx)("div",{class:"mask rgba-black-light align-items-center",children:Object(h.jsx)("div",{class:"container",children:Object(h.jsx)("div",{class:"row",children:Object(h.jsxs)("div",{class:"col-md-12 mb-4 white-text text-center",children:[Object(h.jsx)("h1",{class:"h1-reponsive text-warning white-text font-weight-bold mb-0 pt-md-5 pt-5 wow fadeInDown","data-wow-delay":"0.3s",children:Object(h.jsx)("strong",{children:"PetLand"})}),Object(h.jsx)("h3",{class:"mb-4 white-text wow fadeInDown","data-wow-delay":"0.4s",children:"A web platform where animal lovers and pets meet!"}),Object(h.jsx)("a",{href:"/login",class:"btn btn-outline-white wow fadeInDown","data-wow-delay":"0.4s",children:"LOGIN"}),Object(h.jsx)("a",{href:"/register",class:"btn btn-outline-white wow fadeInDown","data-wow-delay":"0.4s",children:"REGISTER"})]})})})})})},f=a(14),E=a(9),A=a(77),N=a(78),R=a(82),C=a(81),S=[{title:"Messages",url:"/dm",cName:"nav-links"},{title:"Settings",url:"/settings",cName:"nav-links"},{title:"Create a Post",url:"/createPost",cName:"nav-links"},{title:"Search",url:"/search",cName:"nav-links"},{title:"My Posts",url:"/myPosts",cName:"nav-links"},{title:"Favorites",url:"/myFavorites",cName:"nav-links"},{title:"Nearby",url:"/nearByMe",cName:"nav-links"}],_=(a(130),function(e){Object(R.a)(a,e);var t=Object(C.a)(a);function a(){var e;Object(A.a)(this,a);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={clicked:!1},e.handleClick=function(){e.state({clicked:!e.state.clicked})},e}return Object(N.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("nav",{className:"NavbarItems",children:[Object(h.jsx)("a",{className:"navbar-logo",style:{textDecoration:"none"},href:"/feed",children:Object(h.jsxs)("h2",{children:["PetLand",Object(h.jsx)("i",{className:"fas fa-paw"})]})}),Object(h.jsx)("div",{className:"menu-icon",onClick:this.handleClick,children:Object(h.jsx)("i",{className:this.state.clicked?"fas fa-times":"fas fa-bars"})}),Object(h.jsx)("ul",{className:this.state.clicked?"nav-menu active":"nav-menu",children:S.map((function(e,t){return Object(h.jsx)("li",{children:Object(h.jsx)("a",{className:e.cName,href:e.url,children:e.title})},t)}))})]})}}]),a}(s.Component)),w=Object(i.i)(_),L=a(12),K=a(158),T=a(157),k=a(79),y=a.n(k),I=a(80),Y=a.n(I),B=function(e){var t,a=e.user_id,c=e.post_id,n=e.name,j=e.breed,d=e.age,u=e.location,O=e.extra_info,p=e.p_image,g=e.vaccinated,x=e.ts,v=Object(i.g)(),A=parseInt(sessionStorage.getItem("token"),10),N=Object(s.useState)({favorites:{}}),R=Object(r.a)(N,2),C=R[0],S=R[1],_=Object(s.useState)(""),w=Object(r.a)(_,2),k=w[0],I=w[1];var B=function(e){S(Object(o.a)(Object(o.a)({},C),{},Object(l.a)({},"favorites",e))),C.favorites=e};function U(e){!1===e.target.checked?(console.log("delete fav"),b.a.post("".concat(m.config.SERVER_URI,"/api/delete_favorite"),{post_id:c,user_id:A}).then((function(e){console.log(e),B(e.data.posts.rows)})).catch((function(e){console.log(e.response);var t=e.response.data.errors[0].msg;console.log(t)})),I(!1)):(b.a.post("".concat(m.config.SERVER_URI,"/api/add_favorite"),{post_id:c,user_id:A}).then((function(e){console.log(e),B(e.data.posts.rows)})).catch((function(e){console.log(e.response);var t=e.response.data.errors[0].msg;console.log(t)})),I(!0))}return Object(s.useEffect)((function(){b.a.post("".concat(m.config.SERVER_URI,"/api/get-user-favorites"),{user_id:A}).then((function(e){B(e.data.posts);for(var t=0;t<C.favorites.length;t++){if(C.favorites[t].post_id===c){I(!0);break}I(!1)}})).catch((function(e){console.log(e.response);var t=e.response.data.errors[0].msg;console.log(t),t||v.push("/feed")}))}),[]),Object(h.jsx)("div",{children:Object(h.jsxs)(L.a,(t={border:"danger",bg:"light".toLowerCase(),text:"dark",style:{width:"18rem"},className:"mb-2"},Object(l.a)(t,"style",{width:"30rem",height:"800px"}),Object(l.a)(t,"children",[Object(h.jsx)(L.a.Img,{variant:"top",src:""}),Object(h.jsxs)(L.a.Body,{children:[Object(h.jsxs)(L.a.Title,{className:"makeCenter postTitle",style:{fontSize:28,textTransform:"uppercase"},children:["Meet with ",n]}),Object(h.jsx)("br",{}),Object(h.jsx)(L.a.Text,{children:Object(h.jsxs)("div",{children:[Object(h.jsxs)(f.a,{children:[Object(h.jsx)(E.a,{children:Object(h.jsx)("label",{className:"postTitle",children:"Name:"})}),Object(h.jsx)(E.a,{className:"makeCenter",children:Object(h.jsx)("label",{id:"namee",children:n})})]}),Object(h.jsxs)(f.a,{children:[Object(h.jsx)(E.a,{children:Object(h.jsx)("label",{className:"postTitle",children:"Type:"})}),Object(h.jsx)(E.a,{className:"makeCenter",children:Object(h.jsx)("label",{id:"breed",children:j})})]}),Object(h.jsxs)(f.a,{children:[Object(h.jsx)(E.a,{children:Object(h.jsx)("label",{className:"postTitle",children:"Age:"})}),Object(h.jsx)(E.a,{className:"makeCenter",children:Object(h.jsx)("label",{id:"age",children:d})})]}),Object(h.jsxs)(f.a,{children:[Object(h.jsx)(E.a,{children:Object(h.jsx)("label",{className:"postTitle",children:"Location:"})}),Object(h.jsx)(E.a,{className:"makeCenter",children:Object(h.jsx)("label",{id:"location",style:{textTransform:"uppercase"},children:u})})]}),Object(h.jsxs)(f.a,{children:[Object(h.jsx)(E.a,{children:Object(h.jsx)("label",{className:"postTitle",children:"Vaccinated:"})}),Object(h.jsx)(E.a,{className:"makeCenter",children:Object(h.jsx)("label",{id:"location",children:g?"Yes":"No"})})]}),Object(h.jsxs)(f.a,{children:[Object(h.jsx)(E.a,{children:Object(h.jsx)("label",{className:"postTitle",children:"Extra Info:"})}),Object(h.jsx)(E.a,{className:"makeCenter",children:Object(h.jsx)("label",{id:"extra_info",children:O||"-"})})]}),Object(h.jsx)("br",{}),Object(h.jsx)(f.a,{className:"makeCenter",children:Object(h.jsx)("img",{src:p,className:"makeCenter photo"})}),Object(h.jsx)(f.a,{children:Object(h.jsx)(E.a,{children:Object(h.jsx)("label",{style:{fontSize:"10px",position:"absolute",right:0,marginRight:"10%"},className:"makeCenter",id:"extra_info",children:x.substring(0,10)})})}),Object(h.jsxs)(f.a,{className:"makeCenter",children:[Object(h.jsx)(E.a,{sm:2,className:"my-1",children:Object(h.jsx)(K.a,{control:Object(h.jsx)(T.a,{checked:k,checkedIcon:Object(h.jsx)(y.a,{}),onChange:function(e){return U(e)},icon:Object(h.jsx)(Y.a,{}),name:"checkedH"})})}),Object(h.jsx)(E.a,{sm:2,className:"my-1",children:Object(h.jsxs)("a",{href:"/postComment",onClick:function(e){e.preventDefault(),v.push({pathname:"/postComment",state:c})},className:"btn btn-outline-white wow fadeInDown",children:[Object(h.jsx)("i",{className:"far fa-comments",children:" "})," "]})}),a?Object(h.jsx)(E.a,{sm:2,className:"my-1",children:Object(h.jsxs)("a",{onClick:function(e){e.preventDefault(),window.confirm("Are you sure you want to delete this post?")&&(b.a.post("".concat(m.config.SERVER_URI,"/api/delete-post"),{post_id:c}).then((function(e){console.log(e)})).catch((function(e){console.log(e.response);var t=e.response.data.errors[0].msg;console.log(t)})),v.go(0))},children:[" ",Object(h.jsx)("i",{class:"far fa-trash-alt"})]})}):Object(h.jsx)(E.a,{sm:2,className:"my-1",children:Object(h.jsxs)("a",{onClick:function(e){e.preventDefault(),v.push({pathname:"/dm",state:c})},style:{textDecoration:"none"},children:[" ",Object(h.jsx)("i",{class:"far fa-envelope"})]})})]})]})})]})]),t))})},U=a.p+"static/media/bg.317a5777.jpg",P=function(){var e=Object(s.useState)({namee:{}}),t=Object(r.a)(e,2),a=t[0],c=t[1],n=sessionStorage.getItem("token"),j=Object(s.useState)(""),d=Object(r.a)(j,2),u=(d[0],d[1],Object(s.useState)("")),O=Object(r.a)(u,2),p=(O[0],O[1]),g=Object(s.useState)(!1),x=Object(r.a)(g,2),v=(x[0],x[1]),A=Object(i.g)(),N=function(){b.a.post("".concat(m.config.SERVER_URI,"/api/get-posts"),{}).then((function(e){var t;t=e.data.posts,console.log("e is "+t),c(Object(o.a)(Object(o.a)({},a),{},Object(l.a)({},"namee",t))),a.namee=t})).catch((function(e){console.log(e.response);var t=e.response.data.errors[0].msg;console.log(t),t||(p(""),A.push("/feed"),v(!0))}))};return Object(s.useEffect)((function(){return N()}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("div",{style:{backgroundImage:"url(".concat(U,")"),padding:"5%"},className:"makeCenter",children:Object(h.jsx)(f.a,{children:a.namee.length>0&&a.namee.map((function(e,t){return Object(h.jsx)(E.a,{xs:6,className:"makeCenter",children:Object(h.jsx)(B,Object(l.a)({user_id:n==e.user_id,post_id:e.post_id,name:e.name,breed:e.breed,age:e.age,location:e.location,extra_info:e.extra_info,p_image:e.p_image,vaccinated:e.vaccinated,ts:e.ts},"post_id",e.post_id))})}))})})]})},D=(a(51),function(e){var t=e.name,a=e.message,c=e.ts;return Object(s.useEffect)((function(){console.log(t)}),[]),Object(h.jsxs)("div",{className:"justify-space-between",children:[Object(h.jsx)("div",{children:Object(h.jsxs)("label",{className:"justify-space-between",style:{color:"green"},children:[t,":"]})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{className:"justify-space-between",children:a}),Object(h.jsx)("label",{style:{fontSize:"8px",marginLeft:"95%"},className:"justify-space-between",children:new Date(c).toLocaleDateString("en-US")})]})]})}),M=function(){var e,t,a=Object(i.h)().state;console.log("post id is: ",a);Object(i.g)();var c=Object(s.useState)(null),n=Object(r.a)(c,2),j=(n[0],n[1],Object(s.useState)({dms:{},conv:{},other_user:{},message:""})),d=Object(r.a)(j,2),O=d[0],p=d[1],g=sessionStorage.getItem("token"),x=function(e){p(Object(o.a)(Object(o.a)({},O),{},Object(l.a)({},"dms",e))),O.dms=e,console.log("dms: ",e)},v=function(e,t){console.log("getConv :: conv_id is:"),console.log(e),b.a.post("".concat(m.config.SERVER_URI,"/api/get_conv"),{conv_id:e,other_user_id:t}).then((function(e){e&&(console.log("response: ",e),A(e.data.conv),e.data.info&&N(e.data.info))})).catch((function(e){console.log("error in"),console.log(e.response)}))},A=function(e){p(Object(o.a)(Object(o.a)({},O),{},Object(l.a)({},"conv",e))),O.conv=e,console.log("conv: ",O.conv)};var N=function(e){p(Object(o.a)(Object(o.a)({},O),{},Object(l.a)({},"other_user",e))),O.other_user=e,console.log("other_user: ",O.other_user)};function R(e){console.log("handle send"),console.log(O.message,e,g),b.a.post("".concat(m.config.SERVER_URI,"/api/add_dm"),{message:O.message,receiver_id:e,sender_id:g,ts:(new Date).toLocaleString()+""}).then((function(e){e&&(console.log(e),p(Object(o.a)(Object(o.a)({},O),{},Object(l.a)({},"message",""))),O.message="",A(e.data.conv),console.log("done"),e.data.info&&(console.log("done2"),N(e.data.info)),console.log("done3"))})).catch((function(e){console.log("error in"),console.log(e.response)}))}var C=function(e){var t=e.target,a=(t.name,t.value);p(Object(o.a)(Object(o.a)({},O),{},Object(l.a)({},"message",a)))};return Object(s.useEffect)((function(){console.log("other_user: ",O.other_user),a&&b.a.post("".concat(m.config.SERVER_URI,"/api/find_conv"),{post_id:a,user_id:g}).then((function(e){e&&(console.log("post id is available, reponse: ",e),e.data.conv?v(e.data.conv[0].conv_id,e.data.conv[0].user_id):N(e.data.other_user_id.rows))})).catch((function(e){console.log("error in"),console.log(e.response)})),b.a.post("".concat(m.config.SERVER_URI,"/api/get_dms"),{user_id:g}).then((function(e){e&&(console.log(e),x(e.data.dms))})).catch((function(e){console.log("error in"),console.log(e.response)}))}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("div",{style:{backgroundImage:"url(".concat(U,")"),paddingBottom:"50%",paddingTop:"5%"},className:"makeCenter",children:Object(h.jsxs)(f.a,{children:[Object(h.jsx)(E.a,{children:O.dms.length>0&&O.dms.map((function(e,t){var a;return Object(h.jsxs)(L.a,(a={border:"danger",bg:"light".toLowerCase(),text:"dark",style:{width:"18rem"},className:"mb-2"},Object(l.a)(a,"style",{width:"32rem",height:"100px"}),Object(l.a)(a,"children",[Object(h.jsx)(L.a.Img,{variant:"top",src:""}),Object(h.jsx)(L.a.Body,{className:"makeCenter",children:Object(h.jsx)("label",{onClick:function(){return t=e.conv_id,a=e.user_id,console.log("e is"),console.log(t),void v(t,a);var t,a},className:"makeCenter postTitle",style:{fontSize:20,textTransform:"uppercase"},children:e.name})})]),a))}))}),Object(h.jsx)(E.a,{children:O.conv.length>0?Object(h.jsxs)(L.a,(e={border:"danger",bg:"light".toLowerCase(),text:"dark",style:{width:"18rem"},className:"mb-2"},Object(l.a)(e,"style",{width:"32rem",height:"100%"}),Object(l.a)(e,"children",[Object(h.jsx)(L.a.Img,{variant:"top",src:""}),Object(h.jsx)(L.a.Title,{className:"postTitle makeCenter",children:O.other_user.length>0?Object(h.jsx)("h3",{style:{textTransform:"uppercase",marginTop:"5%"},children:O.other_user[0].name}):""}),Object(h.jsx)(L.a.Body,{className:"makeCenter",children:Object(h.jsxs)(L.a.Text,{children:[O.conv.map((function(e,t){return Object(h.jsx)(D,{name:e.name,message:e.message,ts:e.ts})})),Object(h.jsx)(u.e,{placeholder:"Your message",value:O.message,onChange:C,style:{width:"20rem",height:"80px"}}),Object(h.jsx)("a",{onClick:function(){return R(O.other_user[0].user_id)},className:"btn btn-primary",style:{width:"8rem",height:"40px"},children:"SEND"})]})})]),e)):O.other_user.length>0?Object(h.jsxs)(L.a,(t={border:"danger",bg:"light".toLowerCase(),text:"dark",style:{width:"18rem"},className:"mb-2"},Object(l.a)(t,"style",{width:"32rem",height:"500px"}),Object(l.a)(t,"children",[Object(h.jsx)(L.a.Img,{variant:"top",src:""}),Object(h.jsx)(L.a.Title,{className:"postTitle makeCenter",children:O.other_user.length>0?Object(h.jsx)("h3",{style:{textTransform:"uppercase",marginTop:"5%"},children:O.other_user[0].name}):""}),Object(h.jsxs)(L.a.Body,{className:"makeCenter",children:[Object(h.jsx)(u.e,{placeholder:"Your message",value:O.message,onChange:C,style:{width:"20rem",height:"80px"}}),Object(h.jsx)("div",{className:"makeCenter",style:{marginTop:"5%"},children:Object(h.jsx)("a",{onClick:function(){return R(O.other_user[0].user_id)},className:"btn btn-primary",style:{width:"100%",height:"40px"},children:"SEND"})})]})]),t)):""})]})})]})};var V=function(){return Object(h.jsx)("div",{children:Object(h.jsx)(M,{})})},Z=a(30),H=function(){var e,t=sessionStorage.getItem("token"),a=Object(s.useState)(""),c=Object(r.a)(a,2),n=c[0],j=c[1],d=Object(s.useState)(""),O=Object(r.a)(d,2),g=O[0],x=(O[1],Object(s.useState)(!1)),v=Object(r.a)(x,2),A=(v[0],v[1]),N=Object(i.g)(),R=[{value:"ADALAR",label:"ADALAR"},{value:"ARNAVUTK\xd6Y",label:"ARNAVUTK\xd6Y"},{value:"ATA\u015eEH\u0130R",label:"ATA\u015eEH\u0130R"},{value:"AVCILAR",label:"AVCILAR"},{value:"BA\u011eCILAR",label:"BA\u011eCILAR"},{value:"BAH\xc7EL\u0130EVLER",label:"BAH\xc7EL\u0130EVLER"},{value:"BAKIRK\xd6Y",label:"BAKIRK\xd6Y"},{value:"BA\u015eAK\u015eEH\u0130R",label:"BA\u015eAK\u015eEH\u0130R"},{value:"BAYRAMPA\u015eA",label:"BAYRAMPA\u015eA"},{value:"BEYKOZ",label:"BEYKOZ"},{value:"BEYL\u0130KD\xdcZ\xdc",label:"BEYL\u0130KD\xdcZ\xdc"},{value:"BEYO\u011eLU",label:"BEYO\u011eLU"},{value:"B\xdcY\xdcK\xc7EKMECE",label:"B\xdcY\xdcK\xc7EKMECE"},{value:"\xc7ATALCA",label:"\xc7ATALCA"},{value:"\xc7EKMEK\xd6Y",label:"\xc7EKMEK\xd6Y"},{value:"ESENLER",label:"ESENLER"},{value:"ESENYURT",label:"ESENYURT"},{value:"EY\xdcPSULTAN",label:"EY\xdcPSULTAN"},{value:"FAT\u0130H",label:"FAT\u0130H"},{value:"GAZ\u0130OSMANPA\u015eA",label:"GAZ\u0130OSMANPA\u015eA"},{value:"G\xdcNG\xd6REN",label:"G\xdcNG\xd6REN"},{value:"KADIK\xd6Y",label:"KADIK\xd6Y"},{value:"KA\u011eITHANE",label:"KA\u011eITHANE"},{value:"KARTAL",label:"KARTAL"},{value:"K\xdc\xc7\xdcK\xc7EKMECE",label:"K\xdc\xc7\xdcK\xc7EKMECE"},{value:"MALTEPE",label:"MALTEPE"},{value:"K\xdc\xc7\xdcK\xc7EKMECE",label:"K\xdc\xc7\xdcK\xc7EKMECE"},{value:"PEND\u0130K",label:"PEND\u0130K"},{value:"SANCAKTEPE",label:"SANCAKTEPE"},{value:"SARIYER",label:"SARIYER"},{value:"S\u0130L\u0130VR\u0130",label:"S\u0130L\u0130VR\u0130"},{value:"SULTANBEYL\u0130",label:"SULTANBEYL\u0130"},{value:"SULTANGAZ\u0130",label:"SULTANGAZ\u0130"},{value:"\u015e\u0130LE",label:"\u015e\u0130LE"},{value:"\u015e\u0130\u015eL\u0130",label:"\u015e\u0130\u015eL\u0130"},{value:"TUZLA",label:"TUZLA"},{value:"\xdcMRAN\u0130YE",label:"\xdcMRAN\u0130YE"},{value:"\xdcSK\xdcDAR",label:"\xdcSK\xdcDAR"},{value:"ZEYT\u0130NBURNU",label:"ZEYT\u0130NBURNU"}],C=function(e){console.log(e);var t=e.target,a=t.name,s=t.value;k(Object(o.a)(Object(o.a)({},T),{},Object(l.a)({},a,s)))},S=function(){b.a.post("".concat(m.config.SERVER_URI,"/api/update-user"),{name:T.name||T.old_name,email:T.email||T.old_email,address:T.address.toLowerCase()||T.old_address.toLowerCase(),phone:T.phone||T.old_phone,user_id:t}).then((function(e){A(!0),N.push("/feed")})).catch((function(e){var t=e.response.data.errors[0].msg;t?(console.log(t),j(t),N.push("/settings"),t=""):(j(""),N.push("/feed"),A(!0))}))},_=Object(s.useState)({name:"",email:"",address:"",phone:"",old_name:"",old_email:"",old_address:"",old_phone:""}),K=Object(r.a)(_,2),T=K[0],k=K[1];var y=function(){b.a.post("".concat(m.config.SERVER_URI,"/api/get-user-info"),{user_id:t}).then((function(e){!function(e){var t;console.log(e);var a=e.name,s=e.value;k(Object(o.a)(Object(o.a)({},T),{},Object(l.a)({},a,s))),k(Object(o.a)(Object(o.a)({},T),{},(t={},Object(l.a)(t,"old_name",e.name),Object(l.a)(t,"old_email",e.email),Object(l.a)(t,"old_address",e.address),Object(l.a)(t,"old_phone",e.phone),t))),T.name=e.name,T.email=e.email,T.phone=e.phone,T.old_name=e.name,T.old_email=e.email,T.old_address=e.address,T.old_phone=e.phone}(e.data.info[0])})).catch((function(e){console.log(e.response);var t=e.response.data.errors[0].msg;console.log(t),t||(j(""),N.push("/feed"),A(!0))}))};return Object(s.useEffect)((function(){return y()}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("div",{style:{backgroundImage:"url(".concat(U,")"),display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:Object(h.jsx)(L.a,(e={border:"danger",bg:"light".toLowerCase(),text:"dark",style:{width:"18rem"},className:"mb-2"},Object(l.a)(e,"style",{width:"50rem",height:"44rem"}),Object(l.a)(e,"children",Object(h.jsxs)(u.c,{className:"form",onSubmit:function(e){e.preventDefault(),S()},children:[Object(h.jsx)(L.a.Img,{variant:"top",src:""}),Object(h.jsxs)(L.a.Body,{children:[Object(h.jsx)(L.a.Title,{className:"makeCenter",style:{fontSize:28},children:"Update Your Information"}),Object(h.jsx)("br",{}),Object(h.jsxs)(f.a,{children:[Object(h.jsxs)(E.a,{children:[Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"createPostTitle makeCenter",children:"Name"}),Object(h.jsx)(u.e,{type:"name",name:"name",id:"name",value:T.name,placeholder:T.old_name,onChange:C}),g.name&&Object(h.jsx)("p",{className:"text-danger",children:g.name})]}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"createPostTitle makeCenter",children:"Email"}),Object(h.jsx)(u.e,{type:"email",name:"email",id:"email",value:T.email,placeholder:T.old_email,onChange:C}),g.email&&Object(h.jsx)("p",{className:"text-danger",children:g.email})]}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"createPostTitle makeCenter",children:"Address (District)"}),Object(h.jsx)(p.a,{options:R,value:R[T.search_location],onChange:function(e){var t=e.value;k(Object(o.a)(Object(o.a)({},T),{},Object(l.a)({},"address",t))),T.address=e.value},placeholder:T.old_address.toUpperCase()}),g.address&&Object(h.jsx)("p",{className:"text-danger",children:g.address})]}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"createPostTitle makeCenter",children:"Phone"}),Object(h.jsx)(u.e,{type:"phone",name:"phone",id:"phone",value:T.phone,placeholder:T.old_phone,onChange:C}),g.phone&&Object(h.jsx)("p",{className:"text-danger",children:g.phone})]})]}),Object(h.jsxs)(f.a,{className:"justify-content-evenly",children:[Object(h.jsx)(E.a,{className:"makeCenter",children:Object(h.jsx)(Z.a,{variant:"danger",size:"lg",onClick:function(){N.push("/feed")},children:"CANCEL"})}),Object(h.jsx)(E.a,{className:"makeCenter",children:Object(h.jsx)(Z.a,{variant:"success",size:"lg",type:"submit",children:"UPDATE"})}),n&&Object(h.jsx)("h3",{className:"text-black text-center",children:n})]})]}),Object(h.jsx)(L.a.Text,{}),Object(h.jsx)(E.a,{className:"makeCenter",children:Object(h.jsx)(Z.a,{variant:"primary",size:"lg",onClick:function(){N.push("/changePassword")},children:"Change password?"})}),Object(h.jsx)("div",{style:{marginTop:"5%"},children:Object(h.jsx)(E.a,{className:"makeCenter",children:Object(h.jsx)(Z.a,{className:" btn btn-warning",onClick:function(e){console.log("out"),b.a.post("".concat(m.config.SERVER_URI,"/api/logout"),{logout:!0}).then((function(e){e?(console.log(e),sessionStorage.removeItem("token")):console.log("no error")})).catch((function(e){console.log(e);var t=e.response;t&&console.log(t)})),N.push("/"),N.go(0)},children:"Log Out"})})})]})]})),e))})]})},G=a(37),z=a.n(G),q=a(44),F=[{value:"cat",label:"Cat"},{value:"dog",label:"Dog"},{value:"bird",label:"Bird"}],J=[{value:"true",label:"Vaccinated"},{value:"false",label:"Not Vaccinated"}];var $=function(){var e,t=sessionStorage.getItem("token"),a=Object(s.useState)(""),c=Object(r.a)(a,2),n=c[0],j=c[1],d=Object(s.useState)({name:"",breed:"",location:"",age:0,p_image:"",extra_info:"",vaccinated:"",ts:""}),m=Object(r.a)(d,2),O=m[0],g=m[1],x=[{value:"ADALAR",label:"ADALAR"},{value:"ARNAVUTK\xd6Y",label:"ARNAVUTK\xd6Y"},{value:"ATA\u015eEH\u0130R",label:"ATA\u015eEH\u0130R"},{value:"AVCILAR",label:"AVCILAR"},{value:"BA\u011eCILAR",label:"BA\u011eCILAR"},{value:"BAH\xc7EL\u0130EVLER",label:"BAH\xc7EL\u0130EVLER"},{value:"BAKIRK\xd6Y",label:"BAKIRK\xd6Y"},{value:"BA\u015eAK\u015eEH\u0130R",label:"BA\u015eAK\u015eEH\u0130R"},{value:"BAYRAMPA\u015eA",label:"BAYRAMPA\u015eA"},{value:"BEYKOZ",label:"BEYKOZ"},{value:"BEYL\u0130KD\xdcZ\xdc",label:"BEYL\u0130KD\xdcZ\xdc"},{value:"BEYO\u011eLU",label:"BEYO\u011eLU"},{value:"B\xdcY\xdcK\xc7EKMECE",label:"B\xdcY\xdcK\xc7EKMECE"},{value:"\xc7ATALCA",label:"\xc7ATALCA"},{value:"\xc7EKMEK\xd6Y",label:"\xc7EKMEK\xd6Y"},{value:"ESENLER",label:"ESENLER"},{value:"ESENYURT",label:"ESENYURT"},{value:"EY\xdcPSULTAN",label:"EY\xdcPSULTAN"},{value:"FAT\u0130H",label:"FAT\u0130H"},{value:"GAZ\u0130OSMANPA\u015eA",label:"GAZ\u0130OSMANPA\u015eA"},{value:"G\xdcNG\xd6REN",label:"G\xdcNG\xd6REN"},{value:"KADIK\xd6Y",label:"KADIK\xd6Y"},{value:"KA\u011eITHANE",label:"KA\u011eITHANE"},{value:"KARTAL",label:"KARTAL"},{value:"K\xdc\xc7\xdcK\xc7EKMECE",label:"K\xdc\xc7\xdcK\xc7EKMECE"},{value:"MALTEPE",label:"MALTEPE"},{value:"K\xdc\xc7\xdcK\xc7EKMECE",label:"K\xdc\xc7\xdcK\xc7EKMECE"},{value:"PEND\u0130K",label:"PEND\u0130K"},{value:"SANCAKTEPE",label:"SANCAKTEPE"},{value:"SARIYER",label:"SARIYER"},{value:"S\u0130L\u0130VR\u0130",label:"S\u0130L\u0130VR\u0130"},{value:"SULTANBEYL\u0130",label:"SULTANBEYL\u0130"},{value:"SULTANGAZ\u0130",label:"SULTANGAZ\u0130"},{value:"\u015e\u0130LE",label:"\u015e\u0130LE"},{value:"\u015e\u0130\u015eL\u0130",label:"\u015e\u0130\u015eL\u0130"},{value:"TUZLA",label:"TUZLA"},{value:"\xdcMRAN\u0130YE",label:"\xdcMRAN\u0130YE"},{value:"\xdcSK\xdcDAR",label:"\xdcSK\xdcDAR"},{value:"ZEYT\u0130NBURNU",label:"ZEYT\u0130NBURNU"}],v=Object(s.useState)(""),A=Object(r.a)(v,2),N=(A[0],A[1]),R=Object(s.useState)(""),C=Object(r.a)(R,2),S=(C[0],C[1]),_=Object(s.useState)(!1),K=Object(r.a)(_,2),T=(K[0],K[1]),k=Object(i.g)(),y=function(e){var t=e.target,a=t.name,s=t.value;g(Object(o.a)(Object(o.a)({},O),{},Object(l.a)({},a,s)))},I=function(){var e=Object(q.a)(z.a.mark((function e(t){var a,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,Y(a);case 3:s=e.sent,j(s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){return new Promise((function(t,a){var s=new FileReader;s.readAsDataURL(e),s.onload=function(){t(s.result)},s.onerror=function(e){a(e)}}))},B=function(){b.a.post("http://localhost:8000/api/createPost",{name:O.name.toUpperCase(),breed:O.breed,location:O.location.toLowerCase(),age:O.age,p_image:n,extra_info:O.extra_info,vaccinated:O.vaccinated,ts:(new Date).toLocaleString()+"",user_id:t}).then((function(e){T(!0),k.push("/feed")})).catch((function(e){var t=e.response.data.errors[0].msg;t?(console.log(t),S(t),g({name:"",breed:"",location:"",age:0,p_image:"",extra_info:"",vaccinated:"",ts:"",baseImage:""}),t=""):(S(""),k.push("/feed"),T(!0))}))};return Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("div",{style:{backgroundImage:"url(".concat(U,")"),display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:Object(h.jsx)(L.a,(e={border:"danger",bg:"light".toLowerCase(),text:"dark",style:{width:"18rem"},className:"mb-2"},Object(l.a)(e,"style",{width:"50rem",height:"44rem"}),Object(l.a)(e,"children",Object(h.jsxs)(u.c,{className:"form",onSubmit:function(e){e.preventDefault(),N(function(e){var t={};return"Select"===!e.breed&&(t.name="Type required"),""===e.name&&(t.email="Name required"),""===e.age&&(t.phone="Age required"),""===e.location&&(t.phone="Location required"),"Select"===e.vaccinated&&(t.phone="Vaccination Status required"),t}(O)),B()},children:[Object(h.jsx)(L.a.Img,{variant:"top",src:""}),Object(h.jsxs)(L.a.Body,{children:[Object(h.jsx)(L.a.Title,{className:"makeCenter",style:{fontSize:28},children:"Let's find a home for our pet friend!"}),Object(h.jsx)("br",{}),Object(h.jsxs)(f.a,{children:[Object(h.jsxs)(E.a,{children:[Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"createPostTitle makeCenter",children:"Type"}),Object(h.jsx)(p.a,{options:F,value:F[O.breed],onChange:function(e){var t=e.value;g(Object(o.a)(Object(o.a)({},O),{},Object(l.a)({},"breed",t))),O.breed=e.value}})]}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"createPostTitle makeCenter",children:"Name"}),Object(h.jsx)(u.e,{type:"name",name:"name",id:"name",value:O.name,onChange:y})]}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"createPostTitle makeCenter",children:"Age"}),Object(h.jsx)(u.e,{type:"number",name:"age",id:"age",min:"0",max:"30",value:O.age,onChange:y})]}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"createPostTitle makeCenter",children:"Location"}),Object(h.jsx)(p.a,{options:x,value:x[O.location.toUpperCase()],onChange:function(e){var t=e.value;g(Object(o.a)(Object(o.a)({},O),{},Object(l.a)({},"location",t))),O.location=e.value}})]}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"createPostTitle makeCenter",children:"Vaccination Status"}),Object(h.jsx)(p.a,{options:J,value:J[O.vaccinated],onChange:function(e){var t=e.value;g(Object(o.a)(Object(o.a)({},O),{},Object(l.a)({},"vaccinated",t))),O.vaccinated=e.value}})]}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.f,{className:"createPostTitle makeCenter",children:"Extra Info"}),Object(h.jsx)(u.e,{type:"text",name:"extra_info",id:"extra_info",value:O.extra_info,onChange:y})]})]}),Object(h.jsx)(E.a,{className:"makeCenter",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"file",onChange:function(e){I(e)}}),Object(h.jsx)("img",{className:"photo",src:O.p_image}),Object(h.jsx)("img",{className:"photo",src:n})]})}),Object(h.jsxs)(f.a,{children:[Object(h.jsx)(E.a,{children:Object(h.jsx)(Z.a,{className:"makeCenter",variant:"danger",size:"lg",onClick:function(){k.push("/feed")},style:{marginRight:10},children:"CANCEL"})}),Object(h.jsx)(E.a,{children:Object(h.jsx)(Z.a,{className:"makeCenter",variant:"success",size:"lg",type:"submit",children:"POST"})})]})]}),Object(h.jsx)(L.a.Text,{})]})]})),e))})]})};function W(){var e=Object(i.g)(),t=sessionStorage.getItem("token"),a=Object(s.useState)({posts:{},search_name:"",search_location:"",search_breed:"",message:""}),c=Object(r.a)(a,2),n=c[0],j=c[1],d=[{value:"ADALAR",label:"ADALAR"},{value:"ARNAVUTK\xd6Y",label:"ARNAVUTK\xd6Y"},{value:"ATA\u015eEH\u0130R",label:"ATA\u015eEH\u0130R"},{value:"AVCILAR",label:"AVCILAR"},{value:"BA\u011eCILAR",label:"BA\u011eCILAR"},{value:"BAH\xc7EL\u0130EVLER",label:"BAH\xc7EL\u0130EVLER"},{value:"BAKIRK\xd6Y",label:"BAKIRK\xd6Y"},{value:"BA\u015eAK\u015eEH\u0130R",label:"BA\u015eAK\u015eEH\u0130R"},{value:"BAYRAMPA\u015eA",label:"BAYRAMPA\u015eA"},{value:"BEYKOZ",label:"BEYKOZ"},{value:"BEYL\u0130KD\xdcZ\xdc",label:"BEYL\u0130KD\xdcZ\xdc"},{value:"BEYO\u011eLU",label:"BEYO\u011eLU"},{value:"B\xdcY\xdcK\xc7EKMECE",label:"B\xdcY\xdcK\xc7EKMECE"},{value:"\xc7ATALCA",label:"\xc7ATALCA"},{value:"\xc7EKMEK\xd6Y",label:"\xc7EKMEK\xd6Y"},{value:"ESENLER",label:"ESENLER"},{value:"ESENYURT",label:"ESENYURT"},{value:"EY\xdcPSULTAN",label:"EY\xdcPSULTAN"},{value:"FAT\u0130H",label:"FAT\u0130H"},{value:"GAZ\u0130OSMANPA\u015eA",label:"GAZ\u0130OSMANPA\u015eA"},{value:"G\xdcNG\xd6REN",label:"G\xdcNG\xd6REN"},{value:"KADIK\xd6Y",label:"KADIK\xd6Y"},{value:"KA\u011eITHANE",label:"KA\u011eITHANE"},{value:"KARTAL",label:"KARTAL"},{value:"K\xdc\xc7\xdcK\xc7EKMECE",label:"K\xdc\xc7\xdcK\xc7EKMECE"},{value:"MALTEPE",label:"MALTEPE"},{value:"K\xdc\xc7\xdcK\xc7EKMECE",label:"K\xdc\xc7\xdcK\xc7EKMECE"},{value:"PEND\u0130K",label:"PEND\u0130K"},{value:"SANCAKTEPE",label:"SANCAKTEPE"},{value:"SARIYER",label:"SARIYER"},{value:"S\u0130L\u0130VR\u0130",label:"S\u0130L\u0130VR\u0130"},{value:"SULTANBEYL\u0130",label:"SULTANBEYL\u0130"},{value:"SULTANGAZ\u0130",label:"SULTANGAZ\u0130"},{value:"\u015e\u0130LE",label:"\u015e\u0130LE"},{value:"\u015e\u0130\u015eL\u0130",label:"\u015e\u0130\u015eL\u0130"},{value:"TUZLA",label:"TUZLA"},{value:"\xdcMRAN\u0130YE",label:"\xdcMRAN\u0130YE"},{value:"\xdcSK\xdcDAR",label:"\xdcSK\xdcDAR"},{value:"ZEYT\u0130NBURNU",label:"ZEYT\u0130NBURNU"}],O=[{value:"cat",label:"Cat"},{value:"dog",label:"Dog"},{value:"bird",label:"Bird"}];function g(){return(g=Object(q.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.post("".concat(m.config.SERVER_URI,"/api/search"),{search_breed:"%"+n.search_breed.toLowerCase()+"%",search_name:"%"+n.search_name.toUpperCase()+"%",search_location:"%"+n.search_location.toLowerCase()+"%"}).then((function(e){console.log(e),x(e.data.posts)})).catch((function(e){console.log(e.response);var t=e.response.data.errors[0].msg;console.log(t)})),j(Object(o.a)(Object(o.a)({},n),{},Object(l.a)({},"message","Sorry, we could not find any post as you searched."))),n.message="Sorry, we could not find any post as you searched.";case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(e){j(Object(o.a)(Object(o.a)({},n),{},Object(l.a)({},"posts",e))),n.posts=e};return Object(h.jsxs)("div",{style:{backgroundImage:"url(".concat(U,")"),backgroundPosition:"center",height:"100%"},children:[Object(h.jsx)(w,{}),Object(h.jsx)(u.c,{onSubmit:function(e){var t=e.target,a=t.name,s=t.value;j(Object(o.a)(Object(o.a)({},n),{},Object(l.a)({},a,s))),e.preventDefault(),function(){g.apply(this,arguments)}()},children:Object(h.jsxs)(f.a,{className:"makeCenter",children:[Object(h.jsx)(E.a,{md:3,children:Object(h.jsxs)(u.d,{children:[Object(h.jsx)("label",{children:"Type"}),Object(h.jsx)(p.a,{options:O,value:O[n.search_breed],onChange:function(e){var t=e.value;j(Object(o.a)(Object(o.a)({},n),{},Object(l.a)({},"search_breed",t))),n.search_breed=e.value}})]})}),Object(h.jsx)(E.a,{md:3,className:"my-1",children:Object(h.jsxs)(u.d,{children:[Object(h.jsx)("label",{children:"Name"}),Object(h.jsx)(u.e,{name:"search_name",id:"search_name",value:n.search_name,onChange:function(e){var t=e.target,a=t.name,s=t.value;j(Object(o.a)(Object(o.a)({},n),{},Object(l.a)({},a,s)))}})]})}),Object(h.jsx)(E.a,{md:3,className:"my-1",children:Object(h.jsxs)(u.d,{children:[Object(h.jsx)("label",{children:"Location"}),Object(h.jsx)(p.a,{options:d,value:d[n.search_location],onChange:function(e){var t=e.value;j(Object(o.a)(Object(o.a)({},n),{},Object(l.a)({},"search_location",t))),n.search_location=e.value}})]})}),Object(h.jsx)(E.a,{md:1,className:"my-1",children:Object(h.jsx)(u.a,{className:"makeCenter btn btn-success",variant:"success",size:"lg",type:"submit",children:"Search"})}),Object(h.jsx)(E.a,{md:1,className:"my-1",children:Object(h.jsx)(u.a,{className:"makeCenter btn btn-danger",variant:"danger",size:"lg",onClick:function(){e.go(0)},children:"Reset"})})]})}),Object(h.jsx)("div",{style:{backgroundImage:"url(".concat(U,")"),backgroundPosition:"center"},className:"makeCenter",children:Object(h.jsx)(f.a,{children:n.posts.length>0?n.posts.map((function(e,a){return Object(h.jsx)(E.a,{xs:6,className:"makeCenter",children:Object(h.jsx)(B,{user_id:t==e.user_id,name:e.name,breed:e.breed,age:e.age,location:e.location,extra_info:e.extra_info,p_image:e.p_image,vaccinated:e.vaccinated,ts:e.ts})})})):Object(h.jsx)("h2",{children:n.message})})})]})}var Q=function(e){var t=e.handleSubmit,a=e.submitLabel,c=e.hasCancelButton,n=void 0!==c&&c,l=e.initialText,o=void 0===l?"":l,i=e.handleCancel,j=Object(s.useState)(o),b=Object(r.a)(j,2),d=b[0],u=b[1],m=0===d.length;return Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(d),u("")},children:[Object(h.jsx)("textarea",{className:"comment-form-textarea",value:d,onChange:function(e){return u(e.target.value)}}),Object(h.jsx)("button",{className:"comment-form-button",disabled:m,children:a}),n&&Object(h.jsx)("button",{type:"button",className:"comment-form-button comment-form-cancel-button",onClick:i,children:"Cancel"})]})},X=function(e){var t=e.comment_id,a=e.text,c=e.user_id,n=(e.post_id,e.ts),l=e.activeComment,o=e.setActiveComment,i=e.deleteComment,j=e.updateComment,d=parseInt(sessionStorage.getItem("token"),10),u=l&&l.id===t&&"editing"===l.type,O=d===c,p=d===c,g=new Date(n).toLocaleDateString(),x=Object(s.useState)(""),v=Object(r.a)(x,2),f=v[0],E=v[1];return Object(s.useEffect)((function(){!function(e){b.a.post("".concat(m.config.SERVER_URI,"/api/get_username"),{id:e}).then((function(e){e&&(console.log(e),E(e.data.name))})).catch((function(e){console.log("error in"),console.log(e.response)}))}(c)}),[]),Object(h.jsx)("div",{className:"comment",children:Object(h.jsxs)("div",{className:"comment-right-part",children:[Object(h.jsxs)("div",{className:"comment-content",children:[Object(h.jsx)("div",{className:"comment-author",children:f}),Object(h.jsx)("div",{children:g})]}),!u&&Object(h.jsx)("div",{className:"comment-text",children:a}),u&&Object(h.jsx)(Q,{submitLabel:"Update",hasCancelButton:!0,initialText:a,handleSubmit:function(e){return j(e,t)},handleCancel:function(){o(null)}}),Object(h.jsxs)("div",{className:"comment-actions",children:[p&&Object(h.jsx)("div",{className:"comment-action",onClick:function(){return o({id:t,type:"editing"})},children:"Edit"}),O&&Object(h.jsx)("div",{className:"comment-action",onClick:function(){return i(t)},children:"Delete"})]})]})})},ee=function(e){var t,a=e.post_id,c=Object(s.useState)({comments:{}}),n=Object(r.a)(c,2),i=n[0],j=n[1],d=Object(s.useState)(null),u=Object(r.a)(d,2),O=u[0],p=u[1],g=function(e){j(Object(o.a)(Object(o.a)({},i),{},Object(l.a)({},"comments",e.sort((function(e,t){return new Date(e.ts).getTime()})))))};Object(s.useEffect)((function(){!function(e){b.a.post("".concat(m.config.SERVER_URI,"/api/get_comments"),{id:e}).then((function(e){e&&(console.log(e),g(e.data.comments))})).catch((function(e){console.log("error in"),console.log(e.response)}))}(a)}),[]);var x=function(e,t){console.log("Update Comment"),b.a.post("".concat(m.config.SERVER_URI,"/api/edit_comment"),{comment:e,id:t,post_id:a}).then((function(e){e&&(console.log(e),g(e.data.comments),p(null))})).catch((function(e){console.log("error in"),console.log(e.response)}))},v=function(e){console.log("Delete Comment"),window.confirm("Are you sure you want to remove comment?")&&b.a.post("".concat(m.config.SERVER_URI,"/api/delete_comment"),{id:e,post_id:a}).then((function(e){e&&(console.log(e),g(e.data.comments),p(null))})).catch((function(e){console.log("error in"),console.log(e.response)}))};return Object(h.jsx)("div",{children:Object(h.jsxs)(L.a,(t={border:"danger",bg:"light".toLowerCase(),text:"dark",style:{width:"18rem"},className:"mb-2"},Object(l.a)(t,"style",{width:"30rem",height:"800px"}),Object(l.a)(t,"children",[Object(h.jsx)(L.a.Img,{variant:"top",src:""}),Object(h.jsxs)(L.a.Body,{children:[Object(h.jsx)(L.a.Title,{className:"makeCenter postTitle",style:{fontSize:28,textTransform:"uppercase"},children:"Comments"}),Object(h.jsx)("br",{}),Object(h.jsx)(L.a.Text,{children:Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"comments",children:[Object(h.jsx)("div",{className:"comment-form-title",children:"Leave a comment"}),Object(h.jsx)(Q,{submitLabel:"Write",handleSubmit:function(e){console.log("add Comment"),b.a.post("".concat(m.config.SERVER_URI,"/api/add_comment"),{user_id:sessionStorage.getItem("token"),post_id:a,ts:(new Date).toLocaleString()+"",comment:e}).then((function(e){e&&(console.log(e),g(e.data.comments),p(null))})).catch((function(e){console.log("error in"),console.log(e.response)}))}}),Object(h.jsx)("div",{className:"comments-container",children:i.comments.length>0&&i.comments.map((function(e,t){return Object(h.jsx)(X,{comment_id:e.comment_id,text:e.comment,user_id:e.user_id,post_id:e.post_id,ts:e.ts,activeComment:O,setActiveComment:p,deleteComment:v,updateComment:x})}))})]})})})]})]),t))})};var te=function(e){var t=Object(i.h)(),a=Object(s.useState)({posts:{},comments:{}}),c=Object(r.a)(a,2),n=c[0],j=c[1],d=function(e){j(Object(o.a)(Object(o.a)({},n),{},Object(l.a)({},"posts",e))),n.posts=e};return Object(s.useEffect)((function(){var e=t.state;console.log(e),function(e){b.a.post("".concat(m.config.SERVER_URI,"/api/post"),{id:e}).then((function(e){e||console.log("yes error"),console.log(e),d(e.data.posts)})).catch((function(e){console.log("error in"),console.log(e.response);var t=e.response.data.errors[0].msg;console.log(t),t||console.log("Yes error.")}))}(e)}),[]),Object(h.jsxs)("div",{style:{backgroundImage:"url(".concat(U,")"),backgroundPosition:"center",height:"100%"},children:[Object(h.jsx)(w,{}),Object(h.jsx)(f.a,{children:Object(h.jsx)("div",{className:"makeCenter",style:{padding:"20px",backgroundImage:"url(".concat(U,")"),backgroundPosition:"center",height:"100%"},children:Object(h.jsx)("div",{children:Object(h.jsx)(f.a,{children:n.posts.length>0&&n.posts.map((function(e,t){return Object(h.jsx)("div",{children:Object(h.jsxs)(E.a,{xs:12,className:"makeCenter",children:[Object(h.jsx)(B,{name:e.name,breed:e.breed,age:e.age,location:e.location,extra_info:e.extra_info,p_image:e.p_image,vaccinated:e.vaccinated,ts:e.ts,post_id:e.post_id}),Object(h.jsx)(ee,{post_id:e.post_id})]})})}))})})})})]})},ae=a(20),se=function(){var e=sessionStorage.getItem("token"),t=Object(s.useState)({posts:{}}),a=Object(r.a)(t,2),c=a[0],n=a[1],j=Object(i.g)(),d=Object(s.useState)(""),u=Object(r.a)(d,1)[0],O=Object(s.useState)(!1),p=Object(r.a)(O,1)[0],g=function(){b.a.post("".concat(m.config.SERVER_URI,"/api/get-user-posts"),{user_id:e}).then((function(e){var t;t=e.data.posts,console.log("e is "+t),n(Object(o.a)(Object(o.a)({},c),{},Object(l.a)({},"posts",t))),c.posts=t})).catch((function(e){console.log(e.response);var t=e.response.data.errors[0].msg;console.log(t),t||(u(""),j.push("/feed"),p(!0))}))};return Object(s.useEffect)((function(){return g()}),[]),Object(h.jsxs)("div",{style:{backgroundImage:"url(".concat(U,")"),backgroundPosition:"center",paddingBottom:"50%"},children:[Object(h.jsx)(w,{}),Object(h.jsxs)(f.a,{style:{marginTop:"3%"},children:[Object(h.jsx)("label",{className:"makeCenter",style:{marginBottom:"2%",textTransform:"uppercase",color:"black",fontSize:"18px"},children:c.posts.length>0?"The announcements that you have posted so far":"You have not posted anything yet."}),c.posts.length>0&&c.posts.map((function(t,a){return Object(h.jsx)(E.a,{xs:6,className:"makeCenter",children:Object(h.jsx)(B,Object(l.a)({user_id:t.user_id==e,post_id:t.post_id,name:t.name,breed:t.breed,age:t.age,location:t.location,extra_info:t.extra_info,p_image:t.p_image,vaccinated:t.vaccinated,ts:t.ts},"post_id",t.post_id))})}))]})]})},ce=function(){var e=Object(s.useState)({posts:{}}),t=Object(r.a)(e,2),a=t[0],c=t[1],n=sessionStorage.getItem("token");function i(){return(i=Object(q.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("in getData()"),b.a.post("".concat(m.config.SERVER_URI,"/api/nearByMe"),{user_id:n}).then((function(e){console.log("the data is:"),console.log(e),j(e.data.posts)})).catch((function(e){console.log(e.response);var t=e.response.data.errors[0].msg;console.log(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(s.useEffect)((function(){return function(){return i.apply(this,arguments)}()}),[]);var j=function(e){c(Object(o.a)(Object(o.a)({},a),{},Object(l.a)({},"posts",e))),a.posts=e};return Object(h.jsxs)("div",{style:{backgroundImage:"url(".concat(U,")"),backgroundPosition:"center",paddingBottom:"50%"},children:[Object(h.jsx)(w,{}),Object(h.jsxs)(f.a,{style:{marginTop:"3%"},children:[Object(h.jsx)("label",{className:"makeCenter",style:{marginBottom:"2%",textTransform:"uppercase",color:"black",fontSize:"18px"},children:a.posts.length>0?"You are seeing the posts that are near to you: "+a.posts[0].location:"Unfortunately, we could not find any posts close to you."}),a.posts.length>0&&a.posts.map((function(e,t){return Object(h.jsx)(E.a,{xs:6,className:"makeCenter",children:Object(h.jsx)(B,{user_id:n==e.user_id,post_id:e.post_id,name:e.name,breed:e.breed,age:e.age,location:e.location,extra_info:e.extra_info,p_image:e.p_image,vaccinated:e.vaccinated,ts:e.ts})})}))]})]})};var ne=function(){var e,t=sessionStorage.getItem("token"),a=Object(s.useState)(""),c=Object(r.a)(a,2),n=c[0],o=c[1],j=Object(s.useState)(!1),d=Object(r.a)(j,2),O=(d[0],d[1]),p=Object(i.g)(),g=Object(s.useState)(""),x=Object(r.a)(g,2),v=x[0],A=x[1],N=Object(s.useState)(""),R=Object(r.a)(N,2),C=R[0],S=R[1],_=Object(s.useState)(""),K=Object(r.a)(_,2),T=K[0],k=K[1],y=function(){b.a.put("".concat(m.config.SERVER_URI,"/api/change-password"),{email:T,password:v,new_password:C,user_id:t}).then((function(e){O(!0),p.push("/feed")})).catch((function(e){var t=e.response.data.errors[0].msg;t?(console.log(t),o(t),p.push("/changePassword"),t=""):(o(""),p.push("/feed"),O(!0))}))};return Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("div",{style:{backgroundImage:"url(".concat(U,")"),display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:Object(h.jsx)(L.a,(e={border:"danger",bg:"light".toLowerCase(),text:"dark",style:{width:"18rem"},className:"mb-2"},Object(l.a)(e,"style",{width:"50rem",height:"44rem"}),Object(l.a)(e,"children",Object(h.jsxs)(u.c,{className:"form",onSubmit:function(e){e.preventDefault(),y()},children:[Object(h.jsx)(L.a.Img,{variant:"top",src:""}),Object(h.jsxs)(L.a.Body,{children:[Object(h.jsx)(L.a.Title,{className:"makeCenter",style:{fontSize:28},children:"Change Your Password"}),Object(h.jsx)("br",{}),Object(h.jsxs)(f.a,{children:[Object(h.jsxs)(E.a,{children:[Object(h.jsx)(u.d,{children:Object(h.jsx)(u.e,{type:"email",placeholder:"Type email...",onChange:function(e){k(e.target.value)}})}),Object(h.jsx)(u.d,{children:Object(h.jsx)(u.e,{type:"password",placeholder:"Old Password...",onChange:function(e){A(e.target.value)}})}),Object(h.jsx)(u.d,{children:Object(h.jsx)(u.e,{type:"password",placeholder:"New Password...",onChange:function(e){S(e.target.value)}})})]}),Object(h.jsxs)(f.a,{className:"justify-content-evenly",children:[Object(h.jsx)(E.a,{className:"makeCenter",children:Object(h.jsx)(Z.a,{variant:"danger",size:"lg",onClick:function(){p.push("/feed")},children:"CANCEL"})}),Object(h.jsx)(E.a,{className:"makeCenter",children:Object(h.jsx)(Z.a,{variant:"success",size:"lg",type:"submit",children:"CHANGE"})}),n&&Object(h.jsx)("h3",{className:"text-black text-center",children:n})]})]}),Object(h.jsx)(L.a.Text,{})]})]})),e))})]})},le=function(){var e=sessionStorage.getItem("token"),t=Object(s.useState)({posts:{}}),a=Object(r.a)(t,2),c=a[0],n=a[1],j=Object(i.g)(),d=Object(s.useState)(""),u=Object(r.a)(d,1)[0],O=Object(s.useState)(!1),p=Object(r.a)(O,1)[0],g=function(e){b.a.post("".concat(m.config.SERVER_URI,"/api/get-user-favorites"),{user_id:e}).then((function(e){var t;t=e.data.posts,n(Object(o.a)(Object(o.a)({},c),{},Object(l.a)({},"posts",t))),c.posts=t})).catch((function(e){console.log(e),e.response.data.errors[0].msg||(u(""),j.push("/feed"),p(!0))}))};return Object(s.useEffect)((function(){var e=parseInt(sessionStorage.getItem("token"),10);g(e)}),[]),Object(h.jsxs)("div",{style:{backgroundImage:"url(".concat(U,")"),backgroundPosition:"center",paddingBottom:"50%"},children:[Object(h.jsx)(w,{}),Object(h.jsxs)(f.a,{style:{marginTop:"3%"},children:[Object(h.jsx)("label",{className:"makeCenter",style:{marginBottom:"2%",textTransform:"uppercase",color:"black",fontSize:"18px"},children:c.posts.length>0?"The announcements that you have favorited so far":"You have not any favorite post yet."}),c.posts.length>0&&c.posts.map((function(t,a){return Object(h.jsx)(E.a,{xs:6,className:"makeCenter",children:Object(h.jsx)(B,{user_id:e==t.user_id,post_id:t.post_id,name:t.name,breed:t.breed,age:t.age,location:t.location,extra_info:t.extra_info,p_image:t.p_image,vaccinated:t.vaccinated,ts:t.ts})})}))]})]})};var oe=function(){var e=function(){var e=Object(s.useState)(!!sessionStorage.getItem("token")),t=Object(r.a)(e,2),a=t[0],c=t[1];return{setToken:function(e){sessionStorage.setItem("token",e),c(!0)},token:a}}(),t=e.token,a=e.setToken;return t?Object(h.jsx)(ae.a,{children:Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.b,{path:"/feed",component:P}),Object(h.jsx)(i.b,{path:"/createPost",component:$}),Object(h.jsx)(i.b,{path:"/dm",component:V}),Object(h.jsx)(i.b,{path:"/settings",component:H}),Object(h.jsx)(i.b,{path:"/search",component:W}),Object(h.jsx)(i.b,{path:"/postComment",component:te}),Object(h.jsx)(i.b,{path:"/myPosts",component:se}),Object(h.jsx)(i.b,{path:"/myFavorites",component:le}),Object(h.jsx)(i.b,{path:"/nearByMe",component:ce}),Object(h.jsx)(i.b,{path:"/changePassword",component:ne}),Object(h.jsx)(i.b,{path:"/profile",component:H})]})}):Object(h.jsx)(ae.a,{children:Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.b,{path:"/",exact:!0,component:v}),Object(h.jsx)(i.b,{path:"/login",component:function(){return Object(h.jsx)(O,{setToken:a})}}),Object(h.jsx)(i.b,{path:"/register",component:g}),Object(h.jsx)(i.a,{to:"/login"})]})})};a(132);n.a.render(Object(h.jsx)(oe,{}),document.getElementById("root"))},42:function(e,t,a){},51:function(e,t,a){}},[[133,1,2]]]);
//# sourceMappingURL=main.8a9e06eb.chunk.js.map